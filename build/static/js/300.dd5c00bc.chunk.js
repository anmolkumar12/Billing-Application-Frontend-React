"use strict";(self.webpackChunkBilling_Application_Frontend=self.webpackChunkBilling_Application_Frontend||[]).push([[300],{2300:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ge});var l=i(9379),a=i(5043),o=(i(3760),i(5318)),n=i(8368),d=i(1284),s=i(1574),c=i(9496);class r{constructor(){this.getProductMaster=async()=>{try{const e=await c.S.getRequest(s.R.GET_PRODUCT_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createProductMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_PRODUCT_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateProductMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_PRODUCT_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateProductMaster=async e=>{try{const t={productId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_PRODUCT_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}class u{constructor(){this.getProjectMaster=async()=>{try{const e=await c.S.getRequest(s.R.GET_PROJECT_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createProjectMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_PROJECT_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateProjectMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_PROJECT_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateProjectMaster=async e=>{try{const t={projectId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_PROJECT_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}class p{constructor(){this.getTaxMaster=async()=>{try{const e=await c.S.getRequest(s.R.GET_TAX_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createTaxMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_TAX_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateTaxMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_TAX_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateTaxMaster=async e=>{try{const t={taxId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_TAX_TYPE_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}},this.formatDate=async e=>{try{const t=new Date(e),i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)}catch(t){return t.message}}}}var v=i(7416),m=i(6530),h=i(3159),y=i(4652),g=i(7094),f=i(1356),x=i(8992),N=i(8945),j=i(4059),b=i(3536),A=i.n(b),S=i(6866),T=i(2235),_=i(5727);class C{constructor(){this.getTechnologyGroupMaster=async()=>{try{const e=await c.S.postRequest(s.R.GET_TECHNOLOGY_GROUP_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createTechnologyGroupMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_TECHNOLOGY_GROUP_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateTechnologyGroupMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_TECHNOLOGY_GROUP_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateTechnologyGroupMaster=async e=>{try{const t={groupId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_TECHNOLOGY_GROUP_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}},this.getTechnologySubGroupMaster=async e=>{try{const t=await c.S.postRequest(s.R.GET_TECHNOLOGY_SUBGROUP_MASTER,{techGroupId:e||null});return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createTechnologySubGroupMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_TECHNOLOGY_SUBGROUP_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateTechnologySubGroupMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_TECHNOLOGY_SUBGROUP_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateTechnologySubGroupMaster=async e=>{try{const t={subgroupId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_TECHNOLOGY_SUBGROUP_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}},this.getTechnologyMaster=async()=>{try{const e=await c.S.postRequest(s.R.GET_TECHNOLOGY_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createTechnologyMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_TECHNOLOGY_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateTechnologyMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_TECHNOLOGY_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateTechnologyMaster=async e=>{try{const t={id:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_TECHNOLOGY_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}var w=i(4862),D=i(9559),E=i(3002),R=i(7873),M=i(6178),F=i.n(M);const W={phoneCode:{pattern:/^\+[1-9][0-9]{1,4}$/,patternHint:"start with + followed by 2 to 5 num digits (eg. +91, +12345)."},onlyCharacters:{pattern:/^[A-Za-z ]+$/,patternHint:"Only letters (A-Z, a-z)"},website:{pattern:/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,6}(\/[a-zA-Z0-9#]+\/?)*$/,patternHint:"Must be valid website(eg. https://www.example.com)"},alphanumeric:{pattern:/^[a-zA-Z0-9 ]+$/,patternHint:"Must contain only letters or numbers"}};var I=i(579);const U=()=>{var e,t,i;const o={name:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},code:{inputType:"inputtext",label:"Code",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-6"},language:{inputType:"inputtext",label:"Language",value:null,validation:{required:!1},fieldWidth:"col-md-6"},phoneCode:{inputType:"inputtext",label:"Phone Code",value:null,validation:{required:!1,pattern:W.phoneCode.pattern,patternHint:W.phoneCode.patternHint},fieldWidth:"col-md-6"}},[n,d]=(0,a.useState)([]),[s,c]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[b,S]=(0,a.useState)([]),[C,M]=(0,a.useState)(),[U,q]=(0,a.useState)(!1),[k,Y]=(0,a.useState)(A().cloneDeep(o)),[H,P]=(0,a.useState)({}),[O,G]=(0,a.useState)({}),[B,V]=(0,a.useState)({}),z=(new _.A).get("userInfo"),L=null===z||void 0===z?void 0:z.userId;const Q=new v.m,K=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsx)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>X(e)})})},{label:"Country",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country Code",fieldName:"code",textAlign:"left",sort:!0,filter:!0,fieldValue:"code",changeFilter:!0,placeholder:"Country Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.code}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Language",fieldName:"language",textAlign:"left",sort:!0,filter:!0,fieldValue:"language",changeFilter:!0,placeholder:"Language",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.language}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Phone Codes",fieldName:"phoneCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"phone_code",changeFilter:!0,placeholder:"Phone Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.phoneCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Additional Bank Details",fieldName:"bankAccAdditionalFields",textAlign:"left",sort:!0,filter:!0,fieldValue:"bankAccAdditionalFields",changeFilter:!0,placeholder:"Additional Bank Details",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.bankAccAdditionalFields}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Addition Addresss Details",fieldName:"addressAdditionalFields",textAlign:"left",sort:!0,filter:!0,fieldValue:"addressAdditionalFields",changeFilter:!0,placeholder:"Addition Addresss Details",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.addressAdditionalFields}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Addition Company Details",fieldName:"companyAddtionalFields",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyAddtionalFields",changeFilter:!0,placeholder:"Addition Company Details",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyAddtionalFields}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isactive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isactive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==r&&0==h&&(async()=>{await J()})()}),[r,h]);const J=async()=>{c(!0);try{var e;const t=await Q.getCountryMaster();return null===t||void 0===t||null===(e=t.countries)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),d(null===t||void 0===t?void 0:t.countries),null===t||void 0===t?void 0:t.countries}catch(t){console.error(t)}finally{c(!1)}},X=e=>{M(e),$(e),u(!0),q(!0)},Z=e=>{y(!1)},$=e=>{try{var t,i,l;o.name.value=null===e||void 0===e?void 0:e.name,o.code.value=null===e||void 0===e?void 0:e.code,o.language.value=null===e||void 0===e?void 0:e.language,o.phoneCode.value=null===e||void 0===e?void 0:e.phoneCode,Y(A().cloneDeep(o));const a=JSON.parse((null===e||void 0===e?void 0:e.addressAdditionalFields)||""),n=null===(t=Object.keys(a))||void 0===t?void 0:t.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:"Option ".concat(i+1),value:a["key".concat(i+1)],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});P(n);const d=JSON.parse((null===e||void 0===e?void 0:e.bankAccAdditionalFields)||""),s=null===(i=Object.keys(d))||void 0===i?void 0:i.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:"Option ".concat(i+1),value:d["key".concat(i+1)],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});G(s);const c=JSON.parse((null===e||void 0===e?void 0:e.companyAddtionalFields)||""),r=null===(l=Object.keys(c))||void 0===l?void 0:l.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:"Option ".concat(i+1),value:c["key".concat(i+1)],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});console.log("companyform------\x3e",r),V(r)}catch(a){console.log("error",a)}},ee=()=>{u(!1),q(!1),M({}),Y(A().cloneDeep(o)),P({}),G({}),V({})};return s?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Country",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{u(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:n,column:K,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Country"}),h?(0,I.jsx)(E.A,{actionPopupToggle:b,onCloseFunction:Z}):null]}),r?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{ee()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[U?"Update":"Add New"," Country"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{ee()},children:"\xd7"})]}),(0,I.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,I.jsx)(R.A,{form:A().cloneDeep(k),formUpdateEvent:async e=>{Y(e)},isFormValidFlag:p}),(0,I.jsxs)("div",{className:j.A["upload-wrapper"],children:[(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:[(0,I.jsx)("h5",{className:"popup-heading",children:"Additional Address Details"}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{(()=>{var e;const t=null===Object||void 0===Object||null===(e=Object.keys(H))||void 0===e?void 0:e.length,i=(0,l.A)((0,l.A)({},H),{},{[t]:{inputType:"inputtext",label:"Option ".concat(t+1),value:null,validation:{required:!1},fieldWidth:"col-md-4"}});P(i)})()},children:"+"})]}),(0,I.jsx)("div",{className:"col-md-12",children:(null===Object||void 0===Object||null===(e=Object.keys(H))||void 0===e?void 0:e.length)>0&&(0,I.jsx)(R.A,{form:A().cloneDeep(H),formUpdateEvent:async e=>{P(e)},isFormValidFlag:p})})]}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:[(0,I.jsx)("h5",{className:"popup-heading",children:"Additional Bank Details"}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{(()=>{var e;const t=null===Object||void 0===Object||null===(e=Object.keys(O))||void 0===e?void 0:e.length,i=(0,l.A)((0,l.A)({},O),{},{[t]:{inputType:"inputtext",label:"Option ".concat(t+1),value:null,validation:{required:!1},fieldWidth:"col-md-4"}});G(i)})()},children:"+"})]}),(0,I.jsx)("div",{className:"col-md-12",children:(null===Object||void 0===Object||null===(t=Object.keys(O))||void 0===t?void 0:t.length)>0&&(0,I.jsx)(R.A,{form:A().cloneDeep(O),formUpdateEvent:async e=>{G(e)},isFormValidFlag:p})})]}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:[(0,I.jsx)("h5",{className:"popup-heading",children:"Additional Company Details"}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{(()=>{var e;const t=null===Object||void 0===Object||null===(e=Object.keys(B))||void 0===e?void 0:e.length,i=(0,l.A)((0,l.A)({},B),{},{[t]:{inputType:"inputtext",label:"Option ".concat(t+1),value:null,validation:{required:!1},fieldWidth:"col-md-4"}});V(i)})()},children:"+"})]}),(0,I.jsx)("div",{className:"col-md-12",children:(null===Object||void 0===Object||null===(i=Object.keys(B))||void 0===i?void 0:i.length)>0&&(0,I.jsx)(R.A,{form:A().cloneDeep(B),formUpdateEvent:async e=>{V(e)},isFormValidFlag:p})})]})]})]}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];if(A().each(k,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),m(t),t){var a,o,n,d,s,c,r;const e=null===(a=Object.keys(H))||void 0===a?void 0:a.reduce(((e,t,i)=>{var l,a;null!=(null===(l=H[i])||void 0===l?void 0:l.value)&&(e["key".concat(i+1)]=null===(a=H[i])||void 0===a?void 0:a.value);return e}),{}),t=null===(o=Object.keys(O))||void 0===o?void 0:o.reduce(((e,t,i)=>{var l,a;null!=(null===(l=O[i])||void 0===l?void 0:l.value)&&(e["key".concat(i+1)]=null===(a=O[i])||void 0===a?void 0:a.value);return e}),{}),i=null===(n=Object.keys(B))||void 0===n?void 0:n.reduce(((e,t,i)=>{var l,a;null!=(null===(l=B[i])||void 0===l?void 0:l.value)&&(e["key".concat(i+1)]=null===(a=B[i])||void 0===a?void 0:a.value);return e}),{});console.log("countrycode---\x3e",k);const u={name:null===k||void 0===k||null===(d=k.name)||void 0===d?void 0:d.value,code:null===k||void 0===k||null===(s=k.code)||void 0===s?void 0:s.value,language:null===k||void 0===k||null===(c=k.language)||void 0===c?void 0:c.value,phoneCode:null===k||void 0===k||null===(r=k.phoneCode)||void 0===r?void 0:r.value,addressAdditionalFields:e,bankAccAdditionalFields:t,companyAddtionalFields:i,isActive:1,updatedBy:L};if(null!==C&&void 0!==C&&C.id){const e=(0,l.A)((0,l.A)({},u),{},{countryId:null===C||void 0===C?void 0:C.id});Q.updateCountryMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(M({}),ee(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else Q.createCountryMaster(u).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(M({}),ee(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},q=()=>{const e={country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},stateName:{inputType:"inputtext",label:"State",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-6"},stateCode:{inputType:"inputtext",label:"State Code",value:null,validation:{required:!1,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-6"},gstCode:{inputType:"inputNumber",label:"GST Code",value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!0),[j,b]=(0,a.useState)(!1),[S,C]=(0,a.useState)([]),[M,U]=(0,a.useState)(),[q,k]=(0,a.useState)(e),[Y,H]=(0,a.useState)(A().cloneDeep(q)),P=(new _.A).get("userInfo"),O=null===P||void 0===P?void 0:P.userId;const G=new v.m,B=new m.r,V=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsx)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>J(e)})})},{label:"State",fieldName:"stateName",textAlign:"left",sort:!0,filter:!0,fieldValue:"stateName",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.stateName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"State Code",fieldName:"stateCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"stateCode",changeFilter:!0,placeholder:"State Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.stateCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"GST Code",fieldName:"gstCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"gstCode",changeFilter:!0,placeholder:"GST Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.gstCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isactive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1===(null===e||void 0===e?void 0:e.isactive)?"green":"red"},children:1===(null===e||void 0===e?void 0:e.isactive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==c&&0==j&&(async()=>{await z();const e=await L();await Q(e)})()}),[c,j]);const z=async()=>{s(!0);try{var e;const t=await B.getStateMaster();return null===t||void 0===t||null===(e=t.states)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),n(null===t||void 0===t?void 0:t.states),null===t||void 0===t?void 0:t.states}catch(t){console.error(t)}finally{s(!1)}},L=async()=>{s(!0);try{var e;const t=await G.getCountryMaster(),l=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return i(l),l}catch(t){console.error(t)}finally{s(!1)}},Q=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).map((e=>null===e||void 0===e?void 0:e.name));q.country_name.options=e,await k(q),await K(q)},K=async e=>{H(e)},J=e=>{U(e),Z(e),r(!0),p(!0)},X=e=>{b(!1)},Z=e=>{try{q.country_name.value=null===e||void 0===e?void 0:e.name,q.stateName.value=null===e||void 0===e?void 0:e.stateName,q.stateCode.value=null===e||void 0===e?void 0:e.stateCode,q.gstCode.value=Number(null===e||void 0===e?void 0:e.gstCode),H(A().cloneDeep(q))}catch(t){console.log("error",t)}},$=()=>{r(!1),p(!1),U({}),k(A().cloneDeep(e)),H(A().cloneDeep(e))};return d?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New State",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{r(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:V,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"States"}),j?(0,I.jsx)(E.A,{actionPopupToggle:S,onCloseFunction:X}):null]}),c?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header ",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{$()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," State"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{$()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(Y),formUpdateEvent:K,isFormValidFlag:h})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{var i,a;e.preventDefault();let o=!0;const n=[];A().each(Y,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(n.push(e.valid),o=o&&e.valid)})),y(o);const d=null!==(i=null===(a=t.find((e=>e.name===Y.country_name.value)))||void 0===a?void 0:a.id)&&void 0!==i?i:null;if(o){var s,c,r;const e={stateName:null===Y||void 0===Y||null===(s=Y.stateName)||void 0===s?void 0:s.value,stateCode:null===Y||void 0===Y||null===(c=Y.stateCode)||void 0===c?void 0:c.value,gstCode:null===Y||void 0===Y||null===(r=Y.gstCode)||void 0===r?void 0:r.value,countryId:d,isActive:1,updatedBy:O};if(null!==M&&void 0!==M&&M.id){const t=(0,l.A)((0,l.A)({},e),{},{stateId:null===M||void 0===M?void 0:M.id});B.updateStateMaster(t).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(U({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{U({}),x.W.show(e,N.a.ERROR)}))}else B.createStateMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(U({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{U({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})};class k{constructor(){this.getRegionMaster=async e=>{try{const t=await c.S.postRequest(s.R.GET_REGION_MASTER,{countryId:e||null});return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createRegionMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_REGION_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateRegionMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_REGION_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateRegionMaster=async e=>{try{const t={stateId:e.id,isActive:!e.isactive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_REGION_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const Y=()=>{const e={country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),o={name:{inputType:"inputtext",label:"Region Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},code:{inputType:"inputtext",label:"Region Code",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},state_name:{inputType:"multiSelect",label:"State",options:t,value:null,validation:{required:!0},fieldWidth:"col-md-4"}},[n,d]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[r,u]=(0,a.useState)([]),[p,h]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[M,W]=(0,a.useState)(!0),[U,q]=(0,a.useState)(!1),[Y,H]=(0,a.useState)([]),[P,O]=(0,a.useState)(),[G,B]=(0,a.useState)(e),[V,z]=(0,a.useState)(o),[L,Q]=(0,a.useState)(A().cloneDeep(G)),[K,J]=(0,a.useState)([]),X=(new _.A).get("userInfo"),Z=null===X||void 0===X?void 0:X.userId;let $;const ee=new v.m,te=new m.r,ie=new k,le=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>re(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isactive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isactive?"Deactivate":"Activate",onClick:()=>ve(e)})]})},{label:"Region",fieldName:"regionName",textAlign:"left",sort:!0,filter:!0,fieldValue:"regionName",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Code",fieldName:"regionCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"regionCode",changeFilter:!0,placeholder:"Region Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"States",fieldName:"stateNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"stateNames",changeFilter:!0,placeholder:"State Names",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.stateNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isactive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1===(null===e||void 0===e?void 0:e.isactive)?"green":"red"},children:1===(null===e||void 0===e?void 0:e.isactive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==y&&0==U&&(async()=>{await ae();const e=await oe();await ne(e)})()}),[y,U]);const ae=async()=>{h(!0);try{var e;const t=await ie.getRegionMaster();return null===t||void 0===t||null===(e=t.regions)||void 0===e||e.forEach((e=>{e.fromDate=null!==e&&void 0!==e&&e.fromDate?F()(null===e||void 0===e?void 0:e.fromDate).format("DD-MM-YYYY "):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),u(null===t||void 0===t?void 0:t.regions),null===t||void 0===t?void 0:t.regions}catch(t){console.error(t)}finally{h(!1)}},oe=async()=>{h(!0);try{var e;const t=await ee.getCountryMaster(),i=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return d(i),i}catch(t){console.error(t)}finally{h(!1)}},ne=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n).map((e=>null===e||void 0===e?void 0:e.name));G.country_name.options=e,await B(G),await se(G)},de=async e=>{var t;const l=null!==(t=n.find((t=>(null===t||void 0===t?void 0:t.name)===e)))&&void 0!==t?t:null,a=(await(async e=>{try{var t;const i=await te.getStateMaster(e),l=null===i||void 0===i||null===(t=i.states)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return c(l),l}catch(i){console.error(i)}})(null===l||void 0===l?void 0:l.id)).map((e=>null===e||void 0===e?void 0:e.stateName));return V.state_name.options=a,await z(V),i(a),a},se=async e=>{var t,i;const l=A().cloneDeep(e);var a;(Q(l),(null===L||void 0===L||null===(t=L.country_name)||void 0===t?void 0:t.value)!=(null===l||void 0===l||null===(i=l.country_name)||void 0===i?void 0:i.value))&&(await de(null===l||void 0===l||null===(a=l.country_name)||void 0===a?void 0:a.value),J([]))},ce=(e,t,i)=>{const a=null===n||void 0===n?void 0:n.find((e=>{var i;return(null===e||void 0===e?void 0:e.name)==(null===t||void 0===t||null===(i=t.country_name)||void 0===i?void 0:i.value)})),o=e.map((e=>{var t;return null===e||void 0===e||null===(t=e.state_name)||void 0===t?void 0:t.value})).flat().filter(Boolean);return e.forEach(((t,n)=>{var d,s,c,r,u,p,v;const m=i.filter((e=>{var i,l;return!o.includes(e)||(null===t||void 0===t||null===(i=t.state_name)||void 0===i?void 0:i.value)&&(null===t||void 0===t||null===(l=t.state_name)||void 0===l?void 0:l.value.includes(e))}));e[n]=(0,l.A)((0,l.A)({},t),{},{code:(0,l.A)((0,l.A)({},t.code),{},{value:null!=(null===t||void 0===t||null===(d=t.name)||void 0===d?void 0:d.value)&&(null===t||void 0===t||null===(s=t.name)||void 0===s||null===(c=s.value)||void 0===c?void 0:c.length)>0?(null===t||void 0===t||null===(r=t.name)||void 0===r?void 0:r.value)+" "+(null===a||void 0===a?void 0:a.code):null}),state_name:(0,l.A)((0,l.A)({},t.state_name),{},{options:m,value:(null===t||void 0===t||null===(u=t.state_name)||void 0===u||null===(p=u.value)||void 0===p?void 0:p.length)>0?null===t||void 0===t||null===(v=t.state_name)||void 0===v?void 0:v.value:null})})})),e},re=async e=>{const t=null===r||void 0===r?void 0:r.filter((t=>(null===t||void 0===t?void 0:t.countryName)==(null===e||void 0===e?void 0:e.countryName)));console.log("rrrrrrrrrrrr",r,t,e);const i=await de(null===e||void 0===e?void 0:e.countryName);O(t),pe(e,t,i),b(!0),C(!0)},ue=e=>{q(!1)},pe=(e,t,i)=>{try{console.log("data--\x3e",e),G.country_name.value=null===e||void 0===e?void 0:e.countryName,Q(A().cloneDeep(G));const l=[];null===t||void 0===t||t.forEach(((e,t)=>{var a;const o=null===e||void 0===e||null===(a=e.stateNames)||void 0===a?void 0:a.split(","),n={name:{inputType:"inputtext",label:"Region Name",value:e.regionName,validation:{required:!0},fieldWidth:"col-md-4"},code:{inputType:"inputtext",label:"Region Code",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},state_name:{inputType:"multiSelect",label:"State",options:i,value:o,validation:{required:!0},fieldWidth:"col-md-4"}};l.push(n)}));const a=ce([...l],G,i);J(a)}catch(l){console.log("error",l)}},ve=e=>{$=e,H({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:me,rejectFunction:ue}),q(!0)},me=()=>{h(!0),te.deactivateStateMaster((0,l.A)((0,l.A)({},$),{},{loggedInUserId:Z})).then((()=>{var e;h(!1),q(!1),x.W.show("Region record ".concat(null!==(e=$)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(h(!1),!1)))},he=()=>{b(!1),C(!1),O({}),B(A().cloneDeep(e)),z(A().cloneDeep(o)),Q(A().cloneDeep(e)),J([])};return p?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Region",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{b(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:r,column:le,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Regions"}),U?(0,I.jsx)(E.A,{actionPopupToggle:Y,onCloseFunction:ue}):null]}),y?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header ",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{he()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[S?"Update":"Add New"," Region"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{he()},children:"\xd7"})]}),(0,I.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,I.jsx)(R.A,{form:A().cloneDeep(L),formUpdateEvent:se,isFormValidFlag:M}),(0,I.jsx)("div",{className:j.A["upload-wrapper"],children:(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:[(0,I.jsx)("h5",{className:"popup-heading",children:"Add More Regions"}),(0,I.jsxs)("div",{className:j.A["addition-field-buttons"],children:[(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{J((e=>e.slice(0,e.length-1)))},children:"-"}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{J((e=>[...e,V]))},children:"+"})]})]}),(0,I.jsx)("div",{className:"col-md-12",children:(null===K||void 0===K?void 0:K.length)>0&&(null===K||void 0===K?void 0:K.map(((e,t)=>(0,I.jsx)(R.A,{form:A().cloneDeep(e),formUpdateEvent:e=>async function(e,t){const i=[...arguments.length>2&&void 0!==arguments[2]?arguments[2]:K];i[t]=e;const l=null===s||void 0===s?void 0:s.map((e=>null===e||void 0===e?void 0:e.stateName)),a=ce([...i],L,l);J(a)}(e,t),isFormValidFlag:M}))))})]})})]}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{var t,i;e.preventDefault();let a=!0;if(A().each(L,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a=a&&e.value)})),console.log("companyValidityForm------\x3e first",a,L),console.log("companyValidityForm------\x3e seconddd",K),!((null===K||void 0===K?void 0:K.length)>0))return void x.W.show("Assign Region to all States",N.a.ERROR);{console.log("here StateSelectionForm",K);const e=K.map((e=>{var t;return null===e||void 0===e||null===(t=e.state_name)||void 0===t?void 0:t.value})).flat().filter(Boolean),t=(null===s||void 0===s?void 0:s.length)-(null===e||void 0===e?void 0:e.length);if(console.log("here remainingStates",t,K),t>0)return void x.W.show("Assign Region to all States",N.a.ERROR);null===K||void 0===K||K.map((e=>{A().each(e,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a=a&&null!=e.value&&""!=e.value)}))})),console.log("here StateSelectionForm",K)}console.log("companyValidityForm------\x3e",a),W(a);const o=null!==(t=null===(i=n.find((e=>e.name===L.country_name.value)))||void 0===i?void 0:i.id)&&void 0!==t?t:null;a?null===K||void 0===K||K.map(((e,t)=>{var i,a,n,d,c;let r="";null===e||void 0===e||null===(i=e.state_name)||void 0===i||null===(a=i.value)||void 0===a||a.forEach((e=>{var t,i;const l=null!==(t=null===s||void 0===s||null===(i=s.find((t=>(null===t||void 0===t?void 0:t.stateName)==e)))||void 0===i?void 0:i.id)&&void 0!==t?t:null;null!=l&&(r=""!=r?r+","+l:l)}));const u={regionName:null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.value,regionCode:null===e||void 0===e||null===(d=e.code)||void 0===d?void 0:d.value,countryId:o,stateIds:r,isActive:1,updatedBy:Z};if(console.log("jjjjjjjjjjjjjjjjjjjj",P),null!==P&&void 0!==P&&P.length&&null!==(c=P[t])&&void 0!==c&&c.id){var p;const e=(0,l.A)((0,l.A)({},u),{},{regionId:null===(p=P[t])||void 0===p?void 0:p.id});ie.updateRegionMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(O({}),he(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{O({}),x.W.show(e,N.a.ERROR)}))}else ie.createRegionMaster(u).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(O({}),he(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{O({}),x.W.show(e,N.a.ERROR)}))})):x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})};var H=i(2482);const P=()=>{const[e,t]=(0,a.useState)(),i={companyName:{inputType:"inputtext",label:"Company Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},Website:{inputType:"inputtext",label:"Website",value:null,validation:{required:!0,pattern:W.website.pattern,patternHint:W.website.patternHint},fieldWidth:"col-md-4"},Email:{inputType:"inputtext",label:"Email",value:null,validation:{required:!0,email:!0},fieldWidth:"col-md-4"},companyCode:{inputType:"inputtext",label:"Company Code",value:null,validation:{required:!0},fieldWidth:"col-md-4"}},n={pan_number:{inputType:"inputtext",label:"Pan",value:null,validation:{required:!1},fieldWidth:"col-md-4"},independent:{inputType:"inputSwitch",label:"Is It Independent Company?",value:!1,validation:{required:!1},fieldWidth:"col-md-4  mg-12-t"},parent_comp:{inputType:"singleSelect",label:"Parent Company",options:[],value:null,disable:!(null===e||void 0===e||!e.id),validation:{required:!0},fieldWidth:"col-md-4"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[d,s]=(0,a.useState)([]),[c,r]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[C,M]=(0,a.useState)(!0),[U,q]=(0,a.useState)(!1),[k,Y]=(0,a.useState)([]),[P,O]=(0,a.useState)([]),[G,B]=(0,a.useState)([]),[V,z]=(0,a.useState)(""),[L,Q]=(0,a.useState)(""),[K,J]=(0,a.useState)(A().cloneDeep(i)),[X,Z]=(0,a.useState)(A().cloneDeep(K)),[$,ee]=(0,a.useState)({}),[te,ie]=(0,a.useState)(A().cloneDeep(n)),[le,ae]=(0,a.useState)(A().cloneDeep(te)),oe=(new _.A).get("userInfo"),ne=null===oe||void 0===oe?void 0:oe.userId;let de;const se=new v.m,ce=new o.F,re=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>ye(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isactive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isactive?"Deactivate":"Activate",onClick:()=>xe(e)})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Company Code",fieldName:"companyCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyCode",changeFilter:!0,placeholder:"Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyCode||"N/A"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Website",fieldName:"Website",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.Website}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Email",fieldName:"Email",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.Email}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Pan",fieldName:"pan_number",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{children:e.pan_number})})},{label:"Independent",fieldName:"independent",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:1==e.independent?"Yes":"No"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Parent Company",fieldName:"parentCompanyName",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.parentCompanyName?e.parentCompanyName:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Additional Details",fieldName:"companyAddtionalFields",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.companyAddtionalFields&&"null"!=e.companyAddtionalFields&&""!=e.companyAddtionalFields?e.companyAddtionalFields:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isactive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isactive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isactive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==m&&0==U&&(async()=>{const e=await ue(),t=await pe();await ve(e),await me(t)})()}),[m,U]);const ue=async()=>{p(!0);try{var e;const t=await ce.getCompanyMaster();return null===t||void 0===t||null===(e=t.companies)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),s(null===t||void 0===t?void 0:t.companies),null===t||void 0===t?void 0:t.companies}catch(t){console.error(t)}finally{p(!1)}},pe=async()=>{p(!0);try{var e;const t=await se.getCountryMaster(),i=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return r(i),i}catch(t){console.error(t)}finally{p(!1)}},ve=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d).map((e=>null===e||void 0===e?void 0:e.companyName));te.parent_comp.options=e,ie(te)},me=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c).map((e=>null===e||void 0===e?void 0:e.name));K.country_name.options=e,J(K),await he(K)},he=async e=>{var t,i;if((null===e||void 0===e||null===(t=e.country_name)||void 0===t?void 0:t.value)!=(null===X||void 0===X||null===(i=X.country_name)||void 0===i?void 0:i.value)){const t=null===c||void 0===c?void 0:c.find((t=>{var i;return(null===t||void 0===t?void 0:t.name)==(null===e||void 0===e||null===(i=e.country_name)||void 0===i?void 0:i.value)}));if(t){var l;const e=JSON.parse(null===t||void 0===t?void 0:t.companyAddtionalFields),i=null===(l=Object.keys(e))||void 0===l?void 0:l.reduce(((t,i,l)=>(t[l]={inputType:"inputtext",label:e[i],value:null,validation:{required:!1},fieldWidth:"col-md-4"},t)),{});ee(i)}}Z(e)},ye=e=>{t(e),fe(e),z(null!==e&&void 0!==e&&e.logopath?"".concat("https://ims.polestarllp.com/webapi","/").concat(null===e||void 0===e?void 0:e.logopath):""),Q(null!==e&&void 0!==e&&e.digitalSignPath?"".concat("https://ims.polestarllp.com/webapi","/").concat(null===e||void 0===e?void 0:e.digitalSignPath):""),h(!0),b(!0)},ge=e=>{q(!1)},fe=e=>{try{var t;const l=null===d||void 0===d||null===(t=d.filter((t=>(null===t||void 0===t?void 0:t.companyName)!=(null===e||void 0===e?void 0:e.companyName))))||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.companyName));if(console.log("company list",l),K.companyName.value=null===e||void 0===e?void 0:e.companyName,K.country_name.value=null===e||void 0===e?void 0:e.countryName,te.pan_number.value=null===e||void 0===e?void 0:e.pan_number,console.log("this is pan number",null===e||void 0===e?void 0:e.pan_number),K.Email.value=null===e||void 0===e?void 0:e.Email,K.companyCode.value=null===e||void 0===e?void 0:e.companyCode,K.Website.value=null===e||void 0===e?void 0:e.Website,Z(A().cloneDeep(K)),null!==e&&void 0!==e&&e.companyAddtionalFields){var i;const t=JSON.parse(null===e||void 0===e?void 0:e.companyAddtionalFields),l=null===(i=Object.keys(t))||void 0===i?void 0:i.reduce(((e,i,l)=>(e[l]={inputType:"inputtext",label:i,value:t[i],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});ee(l)}te.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",1==(null===e||void 0===e?void 0:e.independent)?(te.independent.value=!0,te.parent_comp.value=null,te.parent_comp.disable=!0,te.parent_comp.validation&&(te.parent_comp.validation.required=!1)):(te.independent.value=!1,te.parent_comp.value=null===e||void 0===e?void 0:e.parentCompanyName,te.parent_comp.options=l,te.parent_comp.disable=!1,te.parent_comp.validation&&(te.parent_comp.validation.required=!0)),ae(A().cloneDeep(te))}catch(l){console.log("error",l)}},xe=e=>{de=e,Y({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:Ne,rejectFunction:ge}),q(!0)},Ne=()=>{p(!0),ce.deactivateCompanyMaster((0,l.A)((0,l.A)({},de),{},{loggedInUserId:ne})).then((()=>{var e;p(!1),q(!1),x.W.show("Company record ".concat(null!==(e=de)&&void 0!==e&&e.isactive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(p(!1),!1)))},je=()=>{h(!1),b(!1),t({}),J(A().cloneDeep(i)),Z(A().cloneDeep(i)),ie(A().cloneDeep(n)),ae(A().cloneDeep(n)),ee({}),O([]),B([])};return console.log("signas",L),u?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Company",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{h(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:d,column:re,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Company"}),U?(0,I.jsx)(E.A,{actionPopupToggle:k,onCloseFunction:ge,loading:!1}):null]}),m?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{je()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[y?"Update":"Add New"," Company"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{je()},children:"\xd7"})]}),(0,I.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,I.jsx)(R.A,{form:A().cloneDeep(X),formUpdateEvent:he,isFormValidFlag:C}),(0,I.jsx)(R.A,{form:A().cloneDeep($),formUpdateEvent:async e=>{ee(e)},isFormValidFlag:C}),(0,I.jsx)(R.A,{form:A().cloneDeep(le),formUpdateEvent:async t=>{var i,l;if(console.log("stadeData----\x3e",e),0!=(null===t||void 0===t||null===(i=t.independent)||void 0===i?void 0:i.value)&&null!==t&&void 0!==t&&null!==(l=t.independent)&&void 0!==l&&l.value)t.parent_comp.value=null,t.parent_comp.disable=!0,t.parent_comp.validation&&(t.parent_comp.validation.required=!1);else{var a;const i=null===d||void 0===d||null===(a=d.filter((t=>(null===t||void 0===t?void 0:t.companyName)!=(null===e||void 0===e?void 0:e.companyName))))||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.companyName));console.log("here we have again ---",i),t.parent_comp.options=i,t.parent_comp.disable=!1,t.parent_comp.validation&&(t.parent_comp.validation.required=!0)}ae(t)},isFormValidFlag:C}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsx)("div",{className:"col-md-6",children:(0,I.jsx)("div",{className:j.A["upload-wrapper"],children:(0,I.jsxs)("div",{className:"row pd-10",children:[(0,I.jsx)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:(0,I.jsx)("h5",{className:"popup-heading",children:"Company Logo"})}),(0,I.jsx)("div",{className:"col-md-12",children:(0,I.jsx)("div",{className:j.A["upload-file-section"],children:(0,I.jsx)("div",{className:j.A["upload-file"],children:V?(0,I.jsxs)("div",{className:j.A["image-preview"],children:[(0,I.jsxs)("div",{className:"icon-ui677",children:[" ",(0,I.jsx)("i",{className:"pi pi-times-circle",onClick:()=>{O([]),z("")},style:{color:"red",fontSize:"1rem"}})]}),(0,I.jsx)("img",{src:V,style:{width:"200px",height:"130px"},alt:"Preview"})]}):(0,I.jsxs)("div",{className:j.A["empty-upload"],children:[(0,I.jsx)("input",{type:"file",onClick:e=>{e.target.value=null},onChange:e=>{return t=e.target.files,O([]),void(t&&t[0]&&A().each(t,(e=>{if(e.name.split(".")[e.name.split(".").length-1].toLowerCase()===S.$.PNG){if(e.size>10485760)return x.W.show("file size is too large, allowed maximum size is 10 MB.","error");{O((t=>[...t,e]));const t=URL.createObjectURL(e);z(t)}}else x.W.show("Invalid file format you can only attach the pdf here!","error"),e=null})));var t},className:j.A.upload,style:{width:"unset"}}),(0,I.jsx)("img",{src:H.Z.FolderIconImage,alt:"Folder Icon"}),(0,I.jsxs)("p",{children:["Drag files here ",(0,I.jsx)("span",{children:" or browse"})," ",(0,I.jsx)("br",{}),(0,I.jsx)("u",{children:"Support PNG"})]})]})})})})]})})}),(0,I.jsx)("div",{className:"col-md-6",children:(0,I.jsx)("div",{className:j.A["upload-wrapper"],children:(0,I.jsxs)("div",{className:"row pd-10",children:[(0,I.jsx)("div",{className:"col-md-12 ".concat(j.A["addition-field-header"]),children:(0,I.jsx)("h5",{className:"popup-heading",children:"Digital Signature"})}),(0,I.jsx)("div",{className:"col-md-12",children:(0,I.jsx)("div",{className:j.A["upload-file-section"],children:(0,I.jsx)("div",{className:j.A["upload-file"],children:L?(0,I.jsxs)("div",{className:j.A["image-preview"],children:[(0,I.jsxs)("div",{className:"icon-ui677",children:[" ",(0,I.jsx)("i",{className:"pi pi-times-circle",onClick:()=>{B([]),Q("")},style:{color:"red",fontSize:"1rem"}})]}),(0,I.jsx)("img",{src:L,style:{width:"200px",height:"130px"},alt:"Preview"})]}):(0,I.jsxs)("div",{className:j.A["empty-upload"],children:[(0,I.jsx)("input",{type:"file",onClick:e=>{e.target.value=null},onChange:e=>{return t=e.target.files,B([]),void(t&&t[0]&&A().each(t,(e=>{if(e.name.split(".")[e.name.split(".").length-1].toLowerCase()===S.$.PNG){if(e.size>10485760)return x.W.show("file size is too large, allowed maximum size is 10 MB.","error");{B((t=>[...t,e]));const t=URL.createObjectURL(e);Q(t)}}else x.W.show("Invalid file format you can only attach the pdf here!","error"),e=null})));var t},className:j.A.upload,style:{width:"unset"}}),(0,I.jsx)("img",{src:H.Z.FolderIconImage,alt:"Folder Icon"}),(0,I.jsxs)("p",{children:["Drag files here ",(0,I.jsx)("span",{children:" or browse"})," ",(0,I.jsx)("br",{}),(0,I.jsx)("u",{children:"Support PNG"})]})]})})})})]})})})]})]}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:i=>{i.preventDefault();let a=!0;if(A().each(X,(e=>{var t,i,l;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a=a&&e.valid),0==(null===X||void 0===X||null===(i=X.independent)||void 0===i?void 0:i.value)&&null==(null===X||void 0===X||null===(l=X.parent_comp)||void 0===l?void 0:l.value)&&(a=!1)})),M(a),a){var o,n,s,r,u,p,v,m,h,y,g,f;const i=new FormData,a=null!==(o=null===d||void 0===d||null===(n=d.find((e=>(null===e||void 0===e?void 0:e.companyName)==(null===le||void 0===le?void 0:le.parent_comp.value))))||void 0===n?void 0:n.id)&&void 0!==o?o:null,j=null!==(s=null===(r=c.find((e=>e.name===X.country_name.value)))||void 0===r?void 0:r.id)&&void 0!==s?s:null,b=null===(u=Object.keys($))||void 0===u?void 0:u.reduce(((e,t,i)=>{var l,a,o;null!=(null===(l=$[i])||void 0===l?void 0:l.value)&&(e[null===(a=$[i])||void 0===a?void 0:a.label]=null===(o=$[i])||void 0===o?void 0:o.value);return e}),{}),A={companyName:null===X||void 0===X||null===(p=X.companyName)||void 0===p?void 0:p.value,countryId:j,pan_number:null===le||void 0===le||null===(v=le.pan_number)||void 0===v?void 0:v.value,Email:null===X||void 0===X||null===(m=X.Email)||void 0===m?void 0:m.value,companyCode:null===X||void 0===X||null===(h=X.companyCode)||void 0===h?void 0:h.value,Website:null===X||void 0===X||null===(y=X.Website)||void 0===y?void 0:y.value,independent:1==(null===le||void 0===le||null===(g=le.independent)||void 0===g?void 0:g.value)?1:0,parentCompanyId:a||0,description:null===le||void 0===le||null===(f=le.description)||void 0===f?void 0:f.value,companyAddtionalFields:(null===JSON||void 0===JSON?void 0:JSON.stringify(b))||null,isActive:1,updatedBy:ne};if(Object.entries(A).forEach((e=>{let[t,l]=e;i.set(t,l)})),null!==P&&void 0!==P&&P.length&&i.set("logo",P[0]),null!==G&&void 0!==G&&G.length&&i.set("digitalSign",G[0]),console.log("here formData",i),null!==e&&void 0!==e&&e.id){const i=new FormData,a=(0,l.A)((0,l.A)({},A),{},{companyId:null===e||void 0===e?void 0:e.id});Object.entries(a).forEach((e=>{let[t,l]=e;i.set(t,l)})),null!==P&&void 0!==P&&P.length&&i.set("logo",P[0]),null!==G&&void 0!==G&&G.length&&i.set("digitalSign",G[0]),ce.updateCompanyMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(t({}),je(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else ce.createCompanyMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(t({}),je(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},O=()=>{const[e,t]=(0,a.useState)(),i={companyName:{inputType:"singleSelect",label:"Company",disable:!1,options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,disable:!0,validation:{required:!0},fieldWidth:"col-md-4"},state_name:{inputType:"singleSelect",label:"State",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},address1:{inputType:"inputtext",label:"Address 1",value:null,validation:{required:!0},fieldWidth:"col-md-4"},address2:{inputType:"inputtext",label:"Address 2",value:null,validation:{required:!1},fieldWidth:"col-md-4"},address3:{inputType:"inputtext",label:"Address 3",value:null,validation:{required:!1},fieldWidth:"col-md-4"},gst_number:{inputType:"inputtext",label:"GSTN",value:null,validation:{required:!1},fieldWidth:"col-md-4"},isDefaultAddress:{inputType:"inputSwitch",label:"Is It Default Address",value:null,validation:{required:!1},fieldWidth:"col-md-4  mg-12-t"}},[n,d]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[r,u]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[C,M]=(0,a.useState)(!1),[W,U]=(0,a.useState)(!0),[q,k]=(0,a.useState)(!1),[Y,H]=(0,a.useState)([]),[P,O]=(0,a.useState)(A().cloneDeep(i)),[G,B]=(0,a.useState)(A().cloneDeep(P)),[V,z]=(0,a.useState)({}),L=(new _.A).get("userInfo"),Q=null===L||void 0===L?void 0:L.userId;let K;const J=new o.F,X=new v.m,Z=new m.r,$=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>se(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>ue(e)})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"State",fieldName:"stateName",textAlign:"left",sort:!0,filter:!0,fieldValue:"stateName",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.stateName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Address 1",fieldName:"address1",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.address1}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Address 2",fieldName:"address2",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.address2}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Address 3",fieldName:"address3",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.address3}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"GSTN",fieldName:"gst_number",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{children:e.gst_number})})},{label:"Additional Address Details",fieldName:"additionalAddressDetails",textAlign:"left",sort:!0,filter:!0,fieldValue:"additionalAddressDetails",changeFilter:!0,placeholder:"Additional Address Details",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.additionalAddressDetails}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Default Address",fieldName:"isDefaultAddress",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:1==e.isDefaultAddress?"Yes":"No"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Deactivated At",fieldName:"deactivationDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"deactivationDate",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.deactivationDate?e.deactivationDate:"NA"}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==b&&0==q&&(async()=>{await te();const e=await ee(),t=await ie();await ae(e),await oe(t)})()}),[b,q]);const ee=async()=>{j(!0);try{var e;const t=await J.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return d(i),i}catch(t){console.error(t)}finally{j(!1)}},te=async()=>{j(!0);try{var e;const t=await J.getCompanyLocationMaster();return null===t||void 0===t||null===(e=t.locations)||void 0===e||e.forEach((e=>{e.deactivationDate=null!==e&&void 0!==e&&e.deactivationDate?F()(null===e||void 0===e?void 0:e.deactivationDate).format("DD-MM-YYYY HH:mm:ss"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),h(null===t||void 0===t?void 0:t.locations),null===t||void 0===t?void 0:t.locations}catch(t){console.error(t)}finally{j(!1)}},ie=async()=>{j(!0);try{var e;const t=await X.getCountryMaster(),i=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return c(i),i}catch(t){console.error(t)}finally{j(!1)}},le=async e=>{try{var t;const i=await Z.getStateMaster(e),l=null===i||void 0===i||null===(t=i.states)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return u(l),await ne(l),l}catch(i){console.error(i)}},ae=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n).map((e=>null===e||void 0===e?void 0:e.companyName));P.companyName.options=e,O(P)},oe=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s).map((e=>null===e||void 0===e?void 0:e.name));P.country_name.options=e,O(P),await de(P)},ne=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r).map((e=>e.stateName));P.state_name.options=e,O(P)},de=async e=>{var t,i;const l=A().cloneDeep(e);if((null===l||void 0===l||null===(t=l.companyName)||void 0===t?void 0:t.value)!=(null===G||void 0===G||null===(i=G.companyName)||void 0===i?void 0:i.value)){const e=null===n||void 0===n?void 0:n.find((e=>{var t;return(null===e||void 0===e?void 0:e.companyName)==(null===l||void 0===l||null===(t=l.companyName)||void 0===t?void 0:t.value)})),t=null===s||void 0===s?void 0:s.find((t=>(null===t||void 0===t?void 0:t.name)==(null===e||void 0===e?void 0:e.countryName)));if(t){var a;l.country_name.value=null===e||void 0===e?void 0:e.countryName;const i=await le(null===t||void 0===t?void 0:t.id);if(i){const e=null===i||void 0===i?void 0:i.map((e=>e.stateName));l.state_name.options=e||[],l.state_name.value=null}const o=JSON.parse(null===t||void 0===t?void 0:t.addressAdditionalFields),n=null===(a=Object.keys(o))||void 0===a?void 0:a.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:o[t],value:null,validation:{required:!0},fieldWidth:"col-md-4"},e)),{});z(n)}}B(l)},se=async e=>{t(e);const i=null===s||void 0===s?void 0:s.find((t=>(null===t||void 0===t?void 0:t.name)==(null===e||void 0===e?void 0:e.countryName))),l=await le(null===i||void 0===i?void 0:i.id),a=null===l||void 0===l?void 0:l.map((e=>e.stateName));re(e,a),S(!0),M(!0)},ce=e=>{k(!1)},re=async(e,t)=>{try{var i;P.companyName.value=null===e||void 0===e?void 0:e.companyName,P.companyName.disable=!0,P.country_name.value=null===e||void 0===e?void 0:e.countryName,P.state_name.options=t,P.state_name.value=null===e||void 0===e?void 0:e.stateName,P.address1.value=null===e||void 0===e?void 0:e.address1,P.address2.value=null===e||void 0===e?void 0:e.address2,P.address3.value=null===e||void 0===e?void 0:e.address3,P.gst_number.value=null===e||void 0===e?void 0:e.gst_number,P.isDefaultAddress.value=1==(null===e||void 0===e?void 0:e.isDefaultAddress),B(A().cloneDeep(P));const l=JSON.parse(null===e||void 0===e?void 0:e.additionalAddressDetails),a=null===(i=Object.keys(l))||void 0===i?void 0:i.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:t,value:l[t],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});z(a)}catch(l){console.log("error",l)}},ue=e=>{K=e,H({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:pe,rejectFunction:ce,askForDeactivationDate:(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.is_active)||(null===e||void 0===e?void 0:e.isActive)}),k(!0)},pe=e=>{j(!0),J.deactivateCompanyLocationMaster((0,l.A)((0,l.A)({},K),{},{loggedInUserId:Q,deactivationDate:e?ve(e):null})).then((()=>{var e;j(!1),k(!1),x.W.show("Company Address record ".concat(null!==(e=K)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(j(!1),!1)))},ve=e=>{const t=new Date(e);if(isNaN(t))return"";const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},me=()=>{S(!1),M(!1),t({}),O(A().cloneDeep(i)),B(A().cloneDeep(i)),z({})};return y?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Company Location",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{S(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:p,column:$,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Company_Location"}),q?(0,I.jsx)(E.A,{actionPopupToggle:Y,onCloseFunction:ce,loading:!1}):null]}),b?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{me()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[C?"Update":"Add New"," Company Location"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{me()},children:"\xd7"})]}),(0,I.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,I.jsx)(R.A,{form:A().cloneDeep(G),formUpdateEvent:de,isFormValidFlag:W}),(0,I.jsx)(R.A,{form:A().cloneDeep(V),formUpdateEvent:async e=>{z(e)},isFormValidFlag:W})]}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:i=>{var a,o,d,c,u,v,m;i.preventDefault();let h=!0;console.log("CompanyLocationForm",G),A().each(G,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(h=h&&e.value)})),U(h);const y=null!==(a=null===(o=n.find((e=>e.companyName===G.companyName.value)))||void 0===o?void 0:o.id)&&void 0!==a?a:null,g=null!==(d=null===(c=s.find((e=>e.name===G.country_name.value)))||void 0===c?void 0:c.id)&&void 0!==d?d:null,f=null!==(u=null===(v=r.find((e=>e.stateName===G.state_name.value)))||void 0===v?void 0:v.id)&&void 0!==u?u:null;if(1==(null===G||void 0===G||null===(m=G.isDefaultAddress)||void 0===m?void 0:m.value)){var j;let e=!1;if(null===p||void 0===p||null===(j=p.filter((e=>(null===e||void 0===e?void 0:e.companyName)==G.companyName.value)))||void 0===j||j.forEach((t=>{e=e||(null===t||void 0===t?void 0:t.isDefaultAddress)})),e)return void x.W.show("A default address for this company is already present",N.a.ERROR)}if(h){var b,S,_,C,w,D;const i=null===(b=Object.keys(V))||void 0===b?void 0:b.reduce(((e,t,i)=>{var l,a,o;null!=(null===(l=V[i])||void 0===l?void 0:l.value)&&(e[null===(a=V[i])||void 0===a?void 0:a.label]=null===(o=V[i])||void 0===o?void 0:o.value);return e}),{}),a={companyId:y,countryId:g,stateId:f,address1:null===G||void 0===G||null===(S=G.address1)||void 0===S?void 0:S.value,address2:null===G||void 0===G||null===(_=G.address2)||void 0===_?void 0:_.value,address3:null===G||void 0===G||null===(C=G.address3)||void 0===C?void 0:C.value,gst_number:null===G||void 0===G||null===(w=G.gst_number)||void 0===w?void 0:w.value,additionalAddressDetails:i,isDefaultAddress:1==(null===G||void 0===G||null===(D=G.isDefaultAddress)||void 0===D?void 0:D.value)?1:0,isActive:1,updatedBy:Q};if(null!==e&&void 0!==e&&e.id){const i=(0,l.A)((0,l.A)({},a),{},{locationId:null===e||void 0===e?void 0:e.id});J.updateCompanyLocationMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(t({}),me(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else J.createCompanyLocationMaster(a).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(t({}),me(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})};class G{constructor(){this.getAccountTypeMaster=async()=>{try{const e=await c.S.postRequest(s.R.GET_ACCOUNT_TYPE_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createAccountTypeMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_ACCOUNT_TYPE_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateAccountTypeMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_ACCOUNT_TYPE_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateAccountTypeMaster=async e=>{try{const t={accountTypeId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_ACCOUNT_TYPE_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const B=()=>{const e={companyName:{inputType:"singleSelect",label:"Company",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},account_type:{inputType:"singleSelect",label:"Bank Account Type",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},bank_name:{inputType:"inputtext",label:"Bank Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},bank_address:{inputType:"inputtext",label:"Bank Address",value:null,validation:{required:!0},fieldWidth:"col-md-4"},account_no:{inputType:"inputNumber",label:"Account Number",value:null,validation:{required:!0},fieldWidth:"col-md-4"},isDefaultAccount:{inputType:"inputSwitch",label:"Is It Default Account",value:null,validation:{required:!1},fieldWidth:"col-md-4  mg-12-t"}},[t,i]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[c,r]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[C,M]=(0,a.useState)(!0),[W,U]=(0,a.useState)(!1),[q,k]=(0,a.useState)([]),[Y,H]=(0,a.useState)(),[P,O]=(0,a.useState)(e),[B,V]=(0,a.useState)(A().cloneDeep(P)),[z,L]=(0,a.useState)({}),Q=(new _.A).get("userInfo"),K=null===Q||void 0===Q?void 0:Q.userId;let J;const X=new o.F,Z=new v.m,$=new G,ee=new d._,te=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>ce(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>pe(e)})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Company",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Bank Account Type",fieldName:"accountTypeName",textAlign:"left",sort:!0,filter:!0,fieldValue:"accountTypeName",changeFilter:!0,placeholder:"Bank Account Type",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.accountTypeName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Bank",fieldName:"bankName",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.bankName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Bank Address",fieldName:"bankAddress",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.bankAddress}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Account Number",fieldName:"accountNumber",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.accountNumber}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Default Account",fieldName:"isDefaultAccount",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:1==e.isDefaultAccount?"Yes":"No"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Additional Details",fieldName:"additionalFieldDetails",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.additionalFieldDetails&&"null"!=JSON.stringify(e.additionalFieldDetails)&&""!=JSON.stringify(e.additionalFieldDetails)?JSON.stringify(e.additionalFieldDetails):"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==y&&0==W&&(async()=>{await ie(),await ae();const e=await le(),t=await oe();await ne(e),await de(t)})()}),[y,W]);const ie=async()=>{h(!0);try{var e;const t=await ee.getAccountsMaster();return null===t||void 0===t||null===(e=t.companyAccounts)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),p(null===t||void 0===t?void 0:t.companyAccounts),null===t||void 0===t?void 0:t.companyAccounts}catch(t){console.error(t)}finally{h(!1)}},le=async()=>{h(!0);try{var e;const t=await X.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return s(i),i}catch(t){console.error(t)}finally{h(!1)}},ae=async()=>{h(!0);try{var e;const t=await $.getAccountTypeMaster(),i=null===t||void 0===t||null===(e=t.accountTypes)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return console.log("oooooooooooo",i),r(i),i}catch(t){console.error(t)}finally{h(!1)}},oe=async()=>{h(!0);try{var e;const t=await Z.getCountryMaster(),l=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return i(l),l}catch(t){console.error(t)}finally{h(!1)}},ne=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n).map((e=>null===e||void 0===e?void 0:e.companyName));P.companyName.options=e,O(P)},de=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).map((e=>null===e||void 0===e?void 0:e.name));P.country_name.options=e,await O(P),await se(P)},se=async e=>{var i,l,a,o;const d=A().cloneDeep(e);if(console.log("we are there",d),console.log("Company Name ---\x3e",null===d||void 0===d||null===(i=d.companyName)||void 0===i?void 0:i.value,null===B||void 0===B||null===(l=B.companyName)||void 0===l?void 0:l.value),(null===d||void 0===d||null===(a=d.companyName)||void 0===a?void 0:a.value)!==(null===B||void 0===B||null===(o=B.companyName)||void 0===o?void 0:o.value)){const e=null===n||void 0===n?void 0:n.find((e=>{var t;return(null===e||void 0===e?void 0:e.companyName)===(null===d||void 0===d||null===(t=d.companyName)||void 0===t?void 0:t.value)})),i=null===t||void 0===t?void 0:t.find((t=>(null===t||void 0===t?void 0:t.name)===(null===e||void 0===e?void 0:e.countryName)));if(i){var s,r;d.country_name.value=null===e||void 0===e?void 0:e.countryName;const t=null===c||void 0===c||null===(s=c.filter((t=>(null===t||void 0===t?void 0:t.countryName)===(null===e||void 0===e?void 0:e.countryName))))||void 0===s?void 0:s.map((e=>null===e||void 0===e?void 0:e.accountTypeName));d.account_type.options=t;const l=JSON.parse(null===i||void 0===i?void 0:i.bankAccAdditionalFields),a=null===(r=Object.keys(l))||void 0===r?void 0:r.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:l[t],value:null,validation:{required:!0},fieldWidth:"col-md-4"},e)),{});L(a)}}V(d)},ce=e=>{var t;H(e);const i=null===c||void 0===c||null===(t=c.filter((t=>(null===t||void 0===t?void 0:t.countryName)==(null===e||void 0===e?void 0:e.countryName))))||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.accountTypeName));ue(e,i),j(!0),S(!0)},re=e=>{U(!1)},ue=(e,t)=>{try{var i;P.country_name.value=null===e||void 0===e?void 0:e.countryName,P.companyName.value=null===e||void 0===e?void 0:e.companyName,P.account_type.options=t,P.account_type.value=null===e||void 0===e?void 0:e.accountTypeName,P.bank_name.value=null===e||void 0===e?void 0:e.bankName,P.bank_address.value=null===e||void 0===e?void 0:e.bankAddress,P.account_no.value=null===e||void 0===e?void 0:e.accountNumber,P.isDefaultAccount.value=1==(null===e||void 0===e?void 0:e.isDefaultAccount),V(A().cloneDeep(P));const l=null===e||void 0===e?void 0:e.additionalFieldDetails,a=null===(i=Object.keys(l))||void 0===i?void 0:i.reduce(((e,t,i)=>(e[i]={inputType:"inputtext",label:t,value:l[t],validation:{required:!1},fieldWidth:"col-md-4"},e)),{});L(a)}catch(l){console.log("error",l)}},pe=e=>{J=e,k({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:ve,rejectFunction:re}),U(!0)},ve=()=>{h(!0),ee.deactivateAccountsMaster((0,l.A)((0,l.A)({},J),{},{loggedInUserId:K})).then((()=>{var e;h(!1),U(!1),x.W.show("Account record ".concat(null!==(e=J)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(h(!1),!1)))},me=()=>{j(!1),S(!1),H({}),O(A().cloneDeep(e)),V(A().cloneDeep(e)),L({})};return m?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Account",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{j(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:u,column:te,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Bank_Accounts"}),W?(0,I.jsx)(E.A,{actionPopupToggle:q,onCloseFunction:re}):null]}),y?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{me()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[b?"Update":"Add New"," Account"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{me()},children:"\xd7"})]}),(0,I.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,I.jsx)(R.A,{form:A().cloneDeep(B),formUpdateEvent:se,isFormValidFlag:C}),(0,I.jsx)(R.A,{form:A().cloneDeep(z),formUpdateEvent:async e=>{L(e)},isFormValidFlag:C})]}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{var i;e.preventDefault();let a=!0;const o=[];if(A().each(B,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(o.push(e.valid),a=a&&e.value)})),1==(null===B||void 0===B||null===(i=B.isDefaultAccount)||void 0===i?void 0:i.value)){var d;let e=!1;if(null===u||void 0===u||null===(d=u.filter((e=>(null===e||void 0===e?void 0:e.companyName)==B.companyName.value&&!(null!==Y&&void 0!==Y&&Y.id))))||void 0===d||d.forEach((t=>{e=e||(null===t||void 0===t?void 0:t.isDefaultAccount)})),e)return void x.W.show("A Default account for this company is already present",N.a.ERROR)}if(M(a),a){var s,r,p,v,m,h,y,g,f,j,b;const e=null!==(s=null===(r=t.find((e=>e.name===B.country_name.value)))||void 0===r?void 0:r.id)&&void 0!==s?s:null,i=null!==(p=null===(v=n.find((e=>e.companyName===B.companyName.value)))||void 0===v?void 0:v.id)&&void 0!==p?p:null,a=null!==(m=null===(h=c.find((e=>e.accountTypeName===B.account_type.value)))||void 0===h?void 0:h.id)&&void 0!==m?m:null,o=null===(y=Object.keys(z))||void 0===y?void 0:y.reduce(((e,t,i)=>{var l,a,o;null!=(null===(l=z[i])||void 0===l?void 0:l.value)&&(e[null===(a=z[i])||void 0===a?void 0:a.label]=null===(o=z[i])||void 0===o?void 0:o.value);return e}),{}),d={countryId:e,companyId:i,bankAccountTypeId:a,isDefaultAccount:1==(null===B||void 0===B||null===(g=B.isDefaultAccount)||void 0===g?void 0:g.value)?1:0,bankName:null===B||void 0===B||null===(f=B.bank_name)||void 0===f?void 0:f.value,bankAddress:null===B||void 0===B||null===(j=B.bank_address)||void 0===j?void 0:j.value,accountNumber:null===B||void 0===B||null===(b=B.account_no)||void 0===b?void 0:b.value,additionalFieldDetails:o,isActive:1,updatedBy:K};if(null!==Y&&void 0!==Y&&Y.id){const e=(0,l.A)((0,l.A)({},d),{},{accountId:null===Y||void 0===Y?void 0:Y.id});ee.updateAccountsMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(H({}),me(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{H({}),x.W.show(e,N.a.ERROR)}))}else ee.createAccountsMaster(d).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(H({}),me(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{H({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},V=()=>{const e={industryName:{inputType:"inputtext",label:"Sub-Industry Name",value:null,validation:{required:!1},fieldWidth:"col-md-6"},subIndustryCategory:{inputType:"inputtext",label:"Sub-Industry Category",value:null,options:[],validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[s,c]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)([]),[C,M]=(0,a.useState)(),[W,U]=(0,a.useState)(A().cloneDeep(e)),[q,k]=(0,a.useState)(A().cloneDeep(W)),Y=(new _.A).get("userInfo"),H=null===Y||void 0===Y?void 0:Y.userId;let P;const O=new n.W,G=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Q(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>X(e)})]})},{label:"Sub-Industry",fieldName:"Sub-Industry",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryName",changeFilter:!0,placeholder:"Industry",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Sub Industry Categories",fieldName:"subIndustryCategory ",textAlign:"left",sort:!0,filter:!0,fieldValue:"subIndustryCategory ",changeFilter:!0,placeholder:"Industry",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.subIndustryCategory}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==r&&0==y&&(async()=>{await B();const e=await V();await z(e)})()}),[r,y]);const B=async()=>{c(!0);try{var e;const t=await O.getIndustryMaster();return null===(e=t.industryMasters)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),d(null===t||void 0===t?void 0:t.industryMasters),null===t||void 0===t?void 0:t.industryMasters}catch(t){console.error(t)}finally{c(!1)}},V=async()=>{c(!0);try{const e=await O.getProductionTypeMaster();return i(null===e||void 0===e?void 0:e.productionTypes),null===e||void 0===e?void 0:e.productionTypes}catch(e){console.error(e)}finally{c(!1)}},z=async function(){await U(W),await L(W)},L=async e=>{k(e)},Q=e=>{console.log("here i ma"),v(!0),M(e),J(e),u(!0)},K=e=>{j(!1)},J=e=>{try{W.industryName.value=null===e||void 0===e?void 0:e.industryName,W.subIndustryCategory.value=null===e||void 0===e?void 0:e.subIndustryCategory,k(A().cloneDeep(W))}catch(t){console.log("error",t)}},X=e=>{P=e,S({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:Z,rejectFunction:K}),j(!0)},Z=()=>{c(!0),O.deactivateIndustryMaster((0,l.A)((0,l.A)({},P),{},{loggedInUserId:H})).then((()=>{var e;c(!1),j(!1),x.W.show("Industry record ".concat(null!==(e=P)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(c(!1),!1)))},$=()=>{u(!1),M({}),U(A().cloneDeep(e)),k(A().cloneDeep(e))};return s?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Sub-Industry",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{v(!1),u(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:G,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Sub-Industry"}),y?(0,I.jsx)(E.A,{actionPopupToggle:b,onCloseFunction:K}):null]}),r?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{$()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[p?"Update":"Add New"," Sub-Industry"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{$()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(q),formUpdateEvent:L,isFormValidFlag:m})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];if(A().each(q,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),h(t),t){var a,o;const e={industryName:null===q||void 0===q||null===(a=q.industryName)||void 0===a?void 0:a.value,subIndustryCategory:null===q||void 0===q||null===(o=q.subIndustryCategory)||void 0===o?void 0:o.value,isActive:1,updatedBy:H};if(null!==C&&void 0!==C&&C.id){const t=(0,l.A)((0,l.A)({},e),{},{industryMasterId:null===C||void 0===C?void 0:C.id});O.updateIndustryMaster(t).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else O.createIndustryMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},z=()=>{const e={industryGroupName:{inputType:"inputtext",label:"Industry Group Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},industryNames:{inputType:"multiSelect",label:"Industries",value:null,options:[],validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[s,c]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)([]),[C,M]=(0,a.useState)(),[W,U]=(0,a.useState)(A().cloneDeep(e)),[q,k]=(0,a.useState)(A().cloneDeep(W)),Y=(new _.A).get("userInfo"),H=null===Y||void 0===Y?void 0:Y.userId;let P;const O=new n.W,G=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Q(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>X(e)})]})},{label:"Industry Group Name",fieldName:"groupIndustryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"groupIndustryName",changeFilter:!0,placeholder:"Industry Group Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.groupIndustryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Sub Industry",fieldName:"industryNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryNames",changeFilter:!0,placeholder:"Industry Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==r&&0==y&&(async()=>{await B();const e=await V();await z(e)})()}),[r,y]);const B=async()=>{c(!0);try{var e;const t=await O.getIndustryGroupMaster();return null===(e=t.groupIndustries)||void 0===e||e.forEach((e=>{e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),d(null===t||void 0===t?void 0:t.groupIndustries),null===t||void 0===t?void 0:t.groupIndustries}catch(t){console.error(t)}finally{c(!1)}},V=async()=>{c(!0);try{var e;const t=await O.getIndustryMaster(),l=null===t||void 0===t||null===(e=t.industryMasters)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return i(l),l}catch(t){console.error(t)}finally{c(!1)}},z=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).map((e=>null===e||void 0===e?void 0:e.industryName));W.industryNames.options=e,await U(W),await L(W)},L=async e=>{k(e)},Q=e=>{M(e),J(e),u(!0),v(!0)},K=e=>{j(!1)},J=e=>{try{var t;W.industryGroupName.value=null===e||void 0===e?void 0:e.groupIndustryName,W.industryNames.value=(null===e||void 0===e||null===(t=e.industryNames)||void 0===t?void 0:t.split(","))||[],k(A().cloneDeep(W))}catch(i){console.log("error",i)}},X=e=>{P=e,S({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:Z,rejectFunction:K}),j(!0)},Z=()=>{c(!0),O.deactivateIndustryGroupMaster((0,l.A)((0,l.A)({},P),{},{loggedInUserId:H})).then((()=>{var e;c(!1),j(!1),x.W.show("Industry Group record ".concat(null!==(e=P)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(c(!1),!1)))},$=()=>{u(!1),v(!1),M({}),U(A().cloneDeep(e)),k(A().cloneDeep(e))};return s?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Industry Group",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{u(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:G,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Industry_Group"}),y?(0,I.jsx)(E.A,{actionPopupToggle:b,onCloseFunction:K}):null]}),r?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{$()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[p?"Update":"Add New"," Industry Group"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{$()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(q),formUpdateEvent:L,isFormValidFlag:m})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let i=!0;const a=[];if(A().each(q,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a.push(e.valid),i=i&&e.valid)})),h(i),i){var o,n,d;let e="";null===q||void 0===q||null===(o=q.industryNames)||void 0===o||null===(n=o.value)||void 0===n||n.forEach((i=>{var l,a;const o=null!==(l=null===t||void 0===t||null===(a=t.find((e=>(null===e||void 0===e?void 0:e.industryName)==i)))||void 0===a?void 0:a.id)&&void 0!==l?l:null;null!=o&&(e=""!=e?e+","+o:o)}));const i={groupIndustryName:null===q||void 0===q||null===(d=q.industryGroupName)||void 0===d?void 0:d.value,industryIds:e,isActive:1,updatedBy:H};if(null!==C&&void 0!==C&&C.id){const e=(0,l.A)((0,l.A)({},i),{},{groupIndustryId:null===C||void 0===C?void 0:C.id});O.updateIndustryGroupMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else O.createIndustryGroupMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},L=()=>{var e;const t={industryHeadName:{inputType:"inputtext",label:"Industry Head Name",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-4"},code:{inputType:"inputtext",label:"Industry Head Ecode",value:null,validation:{required:!0},fieldWidth:"col-md-6"},industry_head_email:{inputType:"inputtext",label:"Industry Head Email",value:null,validation:{required:!0,email:!0},fieldWidth:"col-md-6"},industryNames:{inputType:"multiSelect",label:"Industry Group",value:null,options:[],validation:{required:!0},fieldWidth:"col-md-4"},isRegionWise:{inputType:"inputSwitch",label:"Region Wise",value:!1,validation:{required:!1},fieldWidth:"col-md-4  mg-12-t"},companyName:{inputType:"singleSelect",label:"Company",disable:!1,options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},region_code:{inputType:"multiSelect",label:"Region",options:[],value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},state_name:{inputType:"multiSelect",label:"State",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},start_date:{inputType:"singleDatePicker",label:"Start Date",value:null,validation:{required:!0},fieldWidth:"col-md-4"},end_date:{inputType:"singleDatePicker",label:"End Date",value:null,validation:{required:!1},disable:!0,fieldWidth:"col-md-4"}},[i,d]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[r,u]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),[b,S]=(0,a.useState)(!1),[C,M]=(0,a.useState)(!1),[U,q]=(0,a.useState)(!1),[Y,H]=(0,a.useState)(!0),[P,O]=(0,a.useState)(!1),[G,B]=(0,a.useState)([]),[V,z]=(0,a.useState)(),[L,Q]=(0,a.useState)(A().cloneDeep(t)),[K,J]=(0,a.useState)(A().cloneDeep(L)),[X,Z]=(0,a.useState)([]),$=new o.F,ee=(new _.A).get("userInfo"),te=null===ee||void 0===ee?void 0:ee.userId;let ie;const le=new n.W,ae=new v.m,oe=new k,ne=new m.r,de=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>be(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>Te(e)})]})},{label:"Name",fieldName:"industryHeadName",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryHeadName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryHeadName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Ecode",fieldName:"code",textAlign:"left",sort:!0,filter:!0,fieldValue:"code",changeFilter:!0,placeholder:"Ecode",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.code}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Email",fieldName:"industry_head_email",textAlign:"left",sort:!0,filter:!0,fieldValue:"industry_head_email",changeFilter:!0,placeholder:"Email",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industry_head_email}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Industry Group",fieldName:"industryNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryNames",changeFilter:!0,placeholder:"Industry Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Company",fieldName:"companyName",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Wise",fieldName:"isRegionWise",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:1==e.isRegionWise?"Yes":"No"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryNames",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region",fieldName:"regionNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"regionNames",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.regionNames&&""!=e.regionNames?e.regionNames:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"State",fieldName:"stateNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"stateNames",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.stateNames&&""!=e.stateNames?e.stateNames:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Start Date",fieldName:"startDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"startDate",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.viewStartDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"End Date",fieldName:"endDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"endDate",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.viewEndDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{var e,t;console.log("start date changed",null===K||void 0===K||null===(e=K.start_date)||void 0===e?void 0:e.value,null===K||void 0===K||null===(t=K.end_date)||void 0===t?void 0:t.value),J((e=>{var t;return(0,l.A)((0,l.A)({},e),{},{end_date:(0,l.A)((0,l.A)({},e.end_date),{},{min:(null===(t=e.start_date)||void 0===t?void 0:t.value)||null})})}))}),[null===K||void 0===K||null===(e=K.start_date)||void 0===e?void 0:e.value]),(0,a.useEffect)((()=>{0==C&&0==P&&(async()=>{await ce();const e=await re(),t=await ue(),i=await se();await me(i),await he(e),await ye(t)})()}),[C,P]);const se=async()=>{S(!0);try{var e;const t=await $.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return Z(i),i}catch(t){console.error(t)}finally{S(!1)}},ce=async()=>{S(!0);try{var e;const t=await le.getIndustryHeadMaster();return null===(e=t.industryHeads)||void 0===e||e.forEach((e=>{e.viewStartDate=F()(null===e||void 0===e?void 0:e.startDate).format("DD-MM-YYYY"),e.viewEndDate=null!==e&&void 0!==e&&e.endDate?F()(null===e||void 0===e?void 0:e.endDate).format("DD-MM-YYYY"):null,e.startDate=F()(null===e||void 0===e?void 0:e.startDate).format("DD-MM-YYYY"),e.endDate=null!==e&&void 0!==e&&e.endDate?F()(null===e||void 0===e?void 0:e.endDate).format("DD-MM-YYYY"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),c(t.industryHeads),null===t||void 0===t?void 0:t.industryHeads}catch(t){console.error(t)}finally{S(!1)}},re=async()=>{S(!0);try{var e;const t=await le.getIndustryGroupMaster(),i=null===t||void 0===t||null===(e=t.groupIndustries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return d(i),i}catch(t){console.error(t)}finally{S(!1)}},ue=async()=>{S(!0);try{var e;const t=await ae.getCountryMaster(),i=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return u(i),i}catch(t){console.error(t)}finally{S(!1)}},pe=async e=>{try{var t;const i=await oe.getRegionMaster(e),l=null===i||void 0===i||null===(t=i.regions)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return h(l),l}catch(i){console.error(i)}},ve=async e=>{try{var t;const i=await ne.getStateMaster(e),l=null===i||void 0===i||null===(t=i.states)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return j(l),l}catch(i){console.error(i)}},me=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X).map((e=>null===e||void 0===e?void 0:e.companyName));L.companyName.options=e,Q(L)},he=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i).map((e=>null===e||void 0===e?void 0:e.groupIndustryName));L.industryNames.options=e,Q(L),await je(L)},ye=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r).map((e=>null===e||void 0===e?void 0:e.name));L.country_name.options=e,Q(L),await je(L)},ge=e=>{if(!e)return null;const t=new Date(e),i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},fe=e=>{if(!e)return new Date;const t=new Date(e);if(isNaN(t))return new Date;const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return new Date(i,l-1,a)},xe=async e=>{var t;let i=[];const l=null===e||void 0===e?void 0:e.map((async e=>{const t=null===r||void 0===r?void 0:r.find((t=>(null===t||void 0===t?void 0:t.name)===e));if(t){return await pe(null===t||void 0===t?void 0:t.id)}return[]})),a=await(null===Promise||void 0===Promise?void 0:Promise.all(l));i=null===a||void 0===a?void 0:a.flat(),h(i),await async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p).map((e=>e.regionCode));L.region_code.options=e,Q(L)}(i);return[null===(t=i)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.regionCode)),i]},Ne=async e=>{var t;let i=[];const l=null===e||void 0===e?void 0:e.map((async e=>{const t=null===r||void 0===r?void 0:r.find((t=>(null===t||void 0===t?void 0:t.name)===e));if(t){return await ve(null===t||void 0===t?void 0:t.id)}return[]})),a=await(null===Promise||void 0===Promise?void 0:Promise.all(l));i=null===a||void 0===a?void 0:a.flat(),j(i),await async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y).map((e=>e.stateName));L.state_name.options=e,Q(L)}(i);return null===(t=i)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.stateName))},je=async e=>{console.log("Form Update Triggered:",e,y,p);const t=null===X||void 0===X?void 0:X.find((t=>{var i;return(null===t||void 0===t?void 0:t.companyName)===(null===e||void 0===e||null===(i=e.companyName)||void 0===i?void 0:i.value)})),i=null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.countryName)));if(i){e.country_name.value=null===t||void 0===t?void 0:t.countryName;const l=await ve(null===i||void 0===i?void 0:i.id);e.state_name.options=(null===l||void 0===l?void 0:l.map((e=>e.stateName)))||[];const a=await pe(null===i||void 0===i?void 0:i.id);e.region_code.options=(null===a||void 0===a?void 0:a.map((e=>e.regionCode)))||[]}J(e)},be=async e=>{var t;z(e),console.log("Form Update Triggeredddddddddddd:",e,y,p);let i=[],l=[],a=[],o=[];const n=null===e||void 0===e||null===(t=e.countryNames)||void 0===t?void 0:t.split(",");if(1==(null===e||void 0===e?void 0:e.isRegionWise)){var d;0===p.length&&([i,l]=await xe(n));a=((null===e||void 0===e||null===(d=e.regionNames)||void 0===d?void 0:d.split(","))||[]).map((e=>{var t;const i=null===(t=l)||void 0===t?void 0:t.find((t=>t.regionName===e));return i?i.regionCode:null}))}else 0===y.length&&(o=await Ne(n));Se(e,i,a,o),M(!0),q(!0)},Ae=e=>{O(!1)},Se=(e,t,i,l)=>{console.log("llllllllllllllll",e);try{var a,o,n;if(L.companyName.value=null===e||void 0===e?void 0:e.companyName,L.industryHeadName.value=null===e||void 0===e?void 0:e.industryHeadName,L.code.value=null===e||void 0===e?void 0:e.code,L.industry_head_email.value=null===e||void 0===e?void 0:e.industry_head_email,L.industryNames.value=null===e||void 0===e||null===(a=e.industryNames)||void 0===a?void 0:a.split(","),L.country_name.value=null===e||void 0===e||null===(o=e.countryNames)||void 0===o?void 0:o.split(","),L.isRegionWise.value=1==(null===e||void 0===e?void 0:e.isRegionWise),1==(null===e||void 0===e?void 0:e.isRegionWise))L.region_code.value=i,L.region_code.options=t,L.state_name.options=[],L.state_name.value=null;else L.region_code.value=null,L.region_code.options=[],L.state_name.options=l,L.state_name.value=(null===e||void 0===e||null===(n=e.stateNames)||void 0===n?void 0:n.split(","))||null;L.start_date.value=fe(null===e||void 0===e?void 0:e.startDate),L.end_date.value=null!==e&&void 0!==e&&e.endDate?fe(null===e||void 0===e?void 0:e.endDate):null,J(A().cloneDeep(L))}catch(d){console.log("error",d)}},Te=e=>{ie=e,console.log("eeeeeeeeeeeee",e),B({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:_e,rejectFunction:Ae,askForDeactivationDate:(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.is_active)||(null===e||void 0===e?void 0:e.isActive),minDate:null===e||void 0===e?void 0:e.startDate}),O(!0)},_e=e=>{S(!0),console.log("deactivationDate",e),le.deactivateIndustryHeadMaster((0,l.A)((0,l.A)({},ie),{},{loggedInUserId:te,deactivationDate:e?ge(e):null})).then((()=>{var e;S(!1),O(!1),x.W.show("Industry Head record ".concat(null!==(e=ie)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(S(!1),!1)))},Ce=()=>{M(!1),q(!1),z({}),Q(A().cloneDeep(t)),J(A().cloneDeep(t))};return b?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Industry Head",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{M(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:s,column:de,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Industry_Head"}),P?(0,I.jsx)(E.A,{actionPopupToggle:G,onCloseFunction:Ae}):null]}),C?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{Ce()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[U?"Update":"Add New"," Industry Head"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{Ce()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(K),formUpdateEvent:je,isFormValidFlag:Y})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{console.log("IndustryHeadForm",K),e.preventDefault();let t=!0;if(A().each(K,(e=>{var i;null!==e&&void 0!==e&&null!==(i=e.validation)&&void 0!==i&&i.required&&(t=t&&e.value)})),H(t),t){var a,o,n,d,s,c,u,v,m,h,g,f,j,b,S,_;let e="";null===K||void 0===K||null===(a=K.industryNames)||void 0===a||null===(o=a.value)||void 0===o||o.forEach((t=>{var l,a;const o=null!==(l=null===i||void 0===i||null===(a=i.find((e=>(null===e||void 0===e?void 0:e.groupIndustryName)==t)))||void 0===a?void 0:a.id)&&void 0!==l?l:null;null!=o&&(e=""!=e?e+","+o:o)}));let t="";null===K||void 0===K||null===(n=K.region_code)||void 0===n||null===(d=n.value)||void 0===d||d.forEach((e=>{var i,l;const a=null!==(i=null===p||void 0===p||null===(l=p.find((t=>(null===t||void 0===t?void 0:t.regionCode)==e)))||void 0===l?void 0:l.id)&&void 0!==i?i:null;null!=a&&(t=""!=t?t+","+a:a)}));let A="";null===K||void 0===K||null===(s=K.state_name)||void 0===s||null===(c=s.value)||void 0===c||c.forEach((e=>{var t,i;const l=null!==(t=null===y||void 0===y||null===(i=y.find((t=>(null===t||void 0===t?void 0:t.stateName)==e)))||void 0===i?void 0:i.id)&&void 0!==t?t:null;null!=l&&(A=""!=A?A+","+l:l)}));const C=null!==(u=null===(v=X.find((e=>e.companyName===K.companyName.value)))||void 0===v?void 0:v.id)&&void 0!==u?u:null;console.log("IndustryHeadForm",C,X);const w=null!==(m=null===(h=r.find((e=>e.name===K.country_name.value)))||void 0===h?void 0:h.id)&&void 0!==m?m:null,D={companyId:C,industryHeadName:null===K||void 0===K||null===(g=K.industryHeadName)||void 0===g?void 0:g.value,industryIds:e,code:null===K||void 0===K||null===(f=K.code)||void 0===f?void 0:f.value,industry_head_email:null===K||void 0===K?void 0:K.industry_head_email.value,isRegionWise:1==(null===K||void 0===K||null===(j=K.isRegionWise)||void 0===j?void 0:j.value)?1:0,countryIds:w,regionIds:""!=t?t:null,stateIds:""!=A?A:null,startDate:ge(null===K||void 0===K||null===(b=K.start_date)||void 0===b?void 0:b.value)||null,endDate:null!==K&&void 0!==K&&null!==(S=K.end_date)&&void 0!==S&&S.value?ge(null===K||void 0===K||null===(_=K.end_date)||void 0===_?void 0:_.value):null,isActive:1,updatedBy:te};if(null!==V&&void 0!==V&&V.id){const e=(0,l.A)((0,l.A)({},D),{},{industryHeadId:null===V||void 0===V?void 0:V.id});le.updateIndustryHeadMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(z({}),Ce(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{z({}),x.W.show(e,N.a.ERROR)}))}else le.createIndustryHeadMaster(D).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(z({}),Ce(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{z({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})};var Q=i(6124);const K=()=>{const e={name:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-4"},code:{inputType:"inputtext",label:"Ecode",value:null,validation:{required:!0},fieldWidth:"col-md-4"},sales_manager_email:{inputType:"inputtext",label:"Email",value:null,validation:{required:!0,email:!0},fieldWidth:"col-md-4"},companyName:{inputType:"singleSelect",label:"Company",disable:!1,options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},industryHeadNames:{inputType:"multiSelect",label:"Industry Head",value:null,options:[],validation:{required:!0},fieldWidth:"col-md-4"},from_date:{inputType:"singleDatePicker",label:"From Date",value:null,validation:{required:!0},fieldWidth:"col-md-4"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[t,i]=(0,a.useState)([]),[d,s]=(0,a.useState)([]),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[M,U]=(0,a.useState)(!0),[q,k]=(0,a.useState)(!0),[Y,H]=(0,a.useState)(!1),[P,O]=(0,a.useState)([]),[G,B]=(0,a.useState)(),[V,z]=(0,a.useState)([]),[L,K]=(0,a.useState)([]),[J,X]=(0,a.useState)([]),[Z,$]=(0,a.useState)(A().cloneDeep(e)),[ee,te]=(0,a.useState)(A().cloneDeep(Z)),ie={deactivationDate:{inputType:"singleDatePicker",label:"Select Deactivation Date",value:null,min:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),max:new Date((new Date).getFullYear(),(new Date).getMonth()+6,(new Date).getDate()),validation:{required:!0},fieldWidth:"col-md-12"},industry_head_name:{inputType:"multiSelect",label:"Industry Head Name",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-12"}},[le,ae]=(0,a.useState)(A().cloneDeep(ie)),oe=(new _.A).get("userInfo"),ne=null===oe||void 0===oe?void 0:oe.userId,[de,se]=(0,a.useState)(),ce=new n.W,re=new Q.U,[ue,pe]=(0,a.useState)([]),ve=new o.F,me=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>be(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>(e=>{if(console.log("jjjjjjj",e),1==(null===e||void 0===e?void 0:e.isActive)){var t;console.log("active non active 1",e),m(!0),console.log("this is rowdata",e);const i=(null===(t=e.industryHeadNames)||void 0===t?void 0:t.split(","))||[],l=A().cloneDeep(le);l.industry_head_name.options=i,ae(l),console.log("dasdawdas",l,de)}else{var i;const t=(0,l.A)({},e);e.industryHeadIds=null===t||void 0===t||null===(i=t.deactivatedIndustryIds)||void 0===i?void 0:i.split(",").map(Number),console.log("asdasdasdasdasdas",e,de),O({displayToggle:!1,title:"Delete",message:"Are you sure you want to activate this record?",acceptFunction:()=>Te(e),rejectFunction:Ae,askForDeactivationDate:(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.is_active)||(null===e||void 0===e?void 0:e.isActive),minDate:null===e||void 0===e?void 0:e.fromDate}),H(!0)}se(e)})(e)})]})},{label:"Sales Manager Name",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Sales Manager Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Sales Manager Ecode",fieldName:"code",textAlign:"left",sort:!0,filter:!0,fieldValue:"code",changeFilter:!0,placeholder:"Sales Manager Ecode",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.code}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Sales Manager Email",fieldName:"sales_manager_email",textAlign:"left",sort:!0,filter:!0,fieldValue:"sales_manager_email",changeFilter:!0,placeholder:"Sales Manager Email",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.sales_manager_email}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Industry Head Names",fieldName:"industryHeadNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryHeadNames",changeFilter:!0,placeholder:"Industry Head Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryHeadNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"From Date",fieldName:"fromDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"fromDate",changeFilter:!0,placeholder:"From Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.fromDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"To Date",fieldName:"deactivationDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"deactivationDate",changeFilter:!0,placeholder:"To Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.deactivationDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{if(0==u&&0==Y&&0==v){const e=setTimeout((()=>{(async()=>{await ge();const e=await fe();K(e),await xe(e);const t=await he();await ye(t)})()}),100);return()=>clearTimeout(e)}}),[u,Y,v]);const he=async()=>{r(!0);try{var e;const t=await ve.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return pe(i),i}catch(t){console.error(t)}finally{r(!1)}},ye=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue).map((e=>null===e||void 0===e?void 0:e.companyName));Z.companyName.options=e},ge=async()=>{r(!0);try{var e;const t=await re.getSalesMaster();return null===(e=t.salesManagers)||void 0===e||e.forEach((e=>{e.fromDate=null!==e&&void 0!==e&&e.fromDate?F()(null===e||void 0===e?void 0:e.fromDate).format("DD-MM-YYYY"):null,e.deactivationDate=null!==e&&void 0!==e&&e.deactivationDate?F()(null===e||void 0===e?void 0:e.deactivationDate).format("DD-MM-YYYY"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),s(null===t||void 0===t?void 0:t.salesManagers),null===t||void 0===t?void 0:t.salesManagers}catch(t){console.error(t)}finally{r(!1)}},fe=async()=>{r(!0);try{var e;const t=await ce.getIndustryHeadMaster(),l=null===t||void 0===t||null===(e=t.industryHeads)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return i(l),l}catch(t){console.error(t)}finally{r(!1)}},xe=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).map((e=>null===e||void 0===e?void 0:e.industryHeadName));Z.industryHeadNames.options=e,$(Z),await je(Z)},Ne=e=>{if(!e)return null;const t=new Date(e);if(isNaN(t))return"";const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},je=async e=>{te(e)},be=e=>{B(e),Se(e),p(!0),C(!0)},Ae=e=>{we(),H(!1)},Se=e=>{try{var t;Z.name.value=null===e||void 0===e?void 0:e.name,Z.code.value=null===e||void 0===e?void 0:e.code,Z.sales_manager_email.value=null===e||void 0===e?void 0:e.sales_manager_email,Z.industryHeadNames.value=(null===e||void 0===e||null===(t=e.industryHeadNames)||void 0===t?void 0:t.split(","))||[],Z.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",Z.from_date.value=(e=>{if(!e)return new Date;const t=new Date(e);if(isNaN(t))return new Date;const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return new Date(i,l-1,a)})(null===e||void 0===e?void 0:e.fromDate),Z.companyName.value=null===e||void 0===e?void 0:e.companyName,te(A().cloneDeep(Z))}catch(i){console.log("error",i)}},Te=e=>{r(!0),console.log("datatattatatat",J,e,de),re.deactivateSalesMaster((0,l.A)((0,l.A)({},e),{},{loggedInUserId:ne,deactivationDate:null!==e&&void 0!==e&&e.deactivationDate?Ne(e.deactivationDate):null,industryHeadIds:null!==e&&void 0!==e&&e.industryHeadIds?e.industryHeadIds:[0]})).then((t=>{r(!1),H(!1),200===t.statusCode&&(we(),x.W.show("Sales Manager record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS))})).catch((e=>(r(!1),!1)))},_e=()=>{te(A().cloneDeep(e)),ae(A().cloneDeep(ie))},Ce=()=>{p(!1),C(!1),B({}),$(A().cloneDeep(e)),te(A().cloneDeep(e))},we=()=>{b(null),y(!1),k(!0),ae(A().cloneDeep(ie))};return c?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Sales Manager",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{p(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:d,column:me,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Sales_Manager"}),Y?(0,I.jsx)(E.A,{actionPopupToggle:P,onCloseFunction:Ae}):null]}),u?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{Ce()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[S?"Update":"Add New"," Sales Manager"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{Ce()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(ee),formUpdateEvent:je,isFormValidFlag:M})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let i=!0;const a=[];if(console.log("jjjjjjjjjjjj",ee),A().each(ee,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a.push(e.valid),i=i&&e.value)})),U(i),i){var o,n,d,s,c,r,u,p;let e="";null===ee||void 0===ee||null===(o=ee.industryHeadNames)||void 0===o||null===(n=o.value)||void 0===n||n.forEach((i=>{var l,a;const o=null!==(l=null===t||void 0===t||null===(a=t.find((e=>(null===e||void 0===e?void 0:e.industryHeadName)==i)))||void 0===a?void 0:a.id)&&void 0!==l?l:null;null!=o&&(e=""!=e?e+","+o:o)}));const i=null!==(d=null===(s=ue.find((e=>e.companyName===ee.companyName.value)))||void 0===s?void 0:s.id)&&void 0!==d?d:null,a={name:null===ee||void 0===ee||null===(c=ee.name)||void 0===c?void 0:c.value,code:null===ee||void 0===ee||null===(r=ee.code)||void 0===r?void 0:r.value,sales_manager_email:ee.sales_manager_email.value,fromDate:Ne(null===ee||void 0===ee||null===(u=ee.from_date)||void 0===u?void 0:u.value),description:null===ee||void 0===ee||null===(p=ee.description)||void 0===p?void 0:p.value,industryHeadIds:e,isActive:1,updatedBy:ne,companyId:i};if(null!==G&&void 0!==G&&G.id){const e=(0,l.A)((0,l.A)({},a),{},{salesManagerId:null===G||void 0===G?void 0:G.id});re.updateSalesMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(B({}),Ce(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{B({}),x.W.show(e,N.a.ERROR)}))}else re.createSalesMaster(a).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(B({}),Ce(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{B({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null,v?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{style:{maxWidth:"360px"},className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{m(!1),_e()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsx)("h4",{className:"popup-heading",children:"Deactivate Industry Head"})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{m(!1),_e()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{paddingBottom:"0rem",maxHeight:"calc(100vh - 452px)"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(le),formUpdateEvent:async e=>{ae(e)},isFormValidFlag:q})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{console.log("Submitting updated row data:",de),e.preventDefault();const i=le.industry_head_name.value;let a=[];if(i&&Array.isArray(i))a=i.map((e=>{const i=t.find((t=>t.industryHeadName===e));return i?i.id:null})).filter((e=>null!==e));else if(i){const e=t.find((e=>e.industryHeadName===i));e&&(a=[e.id])}const o=(0,l.A)((0,l.A)({},de),{},{deactivationDate:le.deactivationDate.value,industryHeadIds:a});Te(o),m(!1),ae(A().cloneDeep(ie)),_e()}})})]})}):null]})};var J=i(4635);const X=()=>{const e={name:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-6"},code:{inputType:"inputtext",label:"Ecode",value:null,validation:{required:!0},fieldWidth:"col-md-6"},account_manager_email:{inputType:"inputtext",label:"Email",value:null,validation:{required:!0,email:!0},fieldWidth:"col-md-6"},companyName:{inputType:"singleSelect",label:"Company",disable:!1,options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},industryHeadNames:{inputType:"multiSelect",label:"Industry Head",value:null,options:[],validation:{required:!0},fieldWidth:"col-md-6"},from_date:{inputType:"singleDatePicker",label:"From Date",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[t,i]=(0,a.useState)([]),[d,s]=(0,a.useState)([]),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!0),[j,b]=(0,a.useState)(!0),[S,C]=(0,a.useState)(!1),[M,U]=(0,a.useState)([]),[q,k]=(0,a.useState)(),[Y,H]=(0,a.useState)(A().cloneDeep(e)),[P,O]=(0,a.useState)(A().cloneDeep(Y)),G=(new _.A).get("userInfo"),[B,V]=(0,a.useState)([]),z=new o.F,[L,Q]=(0,a.useState)(),[K,X]=(0,a.useState)(!1),[Z,$]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(null),ie={deactivationDate:{inputType:"singleDatePicker",label:"Select Deactivation Date",value:null,min:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),max:new Date((new Date).getFullYear(),(new Date).getMonth()+6,(new Date).getDate()),validation:{required:!0},fieldWidth:"col-md-12"},industry_head_name:{inputType:"multiSelect",label:"Industry Head Name",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-12"}},[le,ae]=(0,a.useState)(A().cloneDeep(ie)),oe=null===G||void 0===G?void 0:G.userId,ne=new n.W,de=new J.R,se=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>ge(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>(e=>{if(console.log("jjjjjjj",e),1==(null===e||void 0===e?void 0:e.isActive)){var t;console.log("active non active 1",e),$(!0),console.log("this is rowdata",e);const i=(null===(t=e.industryHeadNames)||void 0===t?void 0:t.split(","))||[],l=A().cloneDeep(le);l.industry_head_name.options=i,ae(l),console.log("dasdawdas",l,L)}else{var i;const t=(0,l.A)({},e);e.industryHeadIds=null===t||void 0===t||null===(i=t.deactivatedIndustryIds)||void 0===i?void 0:i.split(",").map(Number),console.log("asdasdasdasdasdas",e,L),U({displayToggle:!1,title:"Delete",message:"Are you sure you want to activate this record?",acceptFunction:()=>je(e),rejectFunction:xe,askForDeactivationDate:(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.is_active)||(null===e||void 0===e?void 0:e.isActive),minDate:null===e||void 0===e?void 0:e.fromDate}),C(!0)}Q(e)})(e)})]})},{label:"Account Manager Name",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Account Manager Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Account Manager Ecode",fieldName:"code",textAlign:"left",sort:!0,filter:!0,fieldValue:"code",changeFilter:!0,placeholder:"Account Manager Ecode",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.code}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Account Manager Email",fieldName:"account_manager_email",textAlign:"left",sort:!0,filter:!0,fieldValue:"account_manager_email",changeFilter:!0,placeholder:"Account Manager Email",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.account_manager_email}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Industry Head Names",fieldName:"industryHeadNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"industryHeadNames",changeFilter:!0,placeholder:"Industry Head Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.industryHeadNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"From Date",fieldName:"fromDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"fromDate",changeFilter:!0,placeholder:"From Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.fromDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"To Date",fieldName:"deactivationDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"deactivationDate",changeFilter:!0,placeholder:"To Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.deactivationDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{if(0==u&&0==S&&0==Z){const e=setTimeout((()=>{(async()=>{await ue();const e=await pe();await ve(e);const t=await ce();await re(t)})()}),100);return()=>clearTimeout(e)}}),[u,S,Z]);const ce=async()=>{r(!0);try{var e;const t=await z.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return V(i),i}catch(t){console.error(t)}finally{r(!1)}},re=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:B).map((e=>null===e||void 0===e?void 0:e.companyName));Y.companyName.options=e},ue=async()=>{r(!0);try{var e;const t=await de.getAccountMaster();return null===t||void 0===t||null===(e=t.accountManagers)||void 0===e||e.forEach((e=>{e.fromDate=null!==e&&void 0!==e&&e.fromDate?F()(null===e||void 0===e?void 0:e.fromDate).format("DD-MM-YYYY"):null,e.deactivationDate=null!==e&&void 0!==e&&e.deactivationDate?F()(null===e||void 0===e?void 0:e.deactivationDate).format("DD-MM-YYYY"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),s(null===t||void 0===t?void 0:t.accountManagers),null===t||void 0===t?void 0:t.accountManagers}catch(t){console.error(t)}finally{r(!1)}},pe=async()=>{r(!0);try{var e;const t=await ne.getIndustryHeadMaster(),l=null===t||void 0===t||null===(e=t.industryHeads)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return i(l),l}catch(t){console.error(t)}finally{r(!1)}},ve=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).map((e=>null===e||void 0===e?void 0:e.industryHeadName));Y.industryHeadNames.options=e,H(Y),await he(Y)},me=e=>{if(!e)return null;const t=new Date(e),i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},he=async e=>{O(e)},ye=()=>{O(A().cloneDeep(e)),ae(A().cloneDeep(ie))},ge=e=>{k(e),Ne(e),p(!0),m(!0)},fe=()=>{te(null),X(!1),b(!0),ae(A().cloneDeep(ie))},xe=e=>{fe(),C(!1)},Ne=e=>{try{var t;Y.name.value=null===e||void 0===e?void 0:e.name,Y.code.value=null===e||void 0===e?void 0:e.code,Y.account_manager_email.value=null===e||void 0===e?void 0:e.account_manager_email,Y.industryHeadNames.value=null===e||void 0===e||null===(t=e.industryHeadNames)||void 0===t?void 0:t.split(","),Y.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",Y.from_date.value=(e=>{if(!e)return new Date;const t=new Date(e);if(isNaN(t))return new Date;const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return new Date(i,l-1,a)})(null===e||void 0===e?void 0:e.fromDate),Y.companyName.value=null===e||void 0===e?void 0:e.companyName,O(A().cloneDeep(Y))}catch(i){console.log("error",i)}},je=e=>{r(!0),console.log("datatattatatat",e,L),de.deactivateAccountMaster((0,l.A)((0,l.A)({},e),{},{loggedInUserId:oe,deactivationDate:null!==e&&void 0!==e&&e.deactivationDate?me(e.deactivationDate):null,industryHeadIds:null!==e&&void 0!==e&&e.industryHeadIds?e.industryHeadIds:[0]})).then((t=>{r(!1),C(!1),200===t.statusCode&&(fe(),x.W.show("Sales Manager record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS))})).catch((e=>(r(!1),!1)))},be=()=>{p(!1),m(!1),k({}),H(A().cloneDeep(e)),O(A().cloneDeep(e))};return c?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Account Manager",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{p(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:d,column:se,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Account_Manager"}),S?(0,I.jsx)(E.A,{actionPopupToggle:M,onCloseFunction:xe}):null]}),u?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{be()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[v?"Update":"Add New"," Account Manager"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{be()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(P),formUpdateEvent:he,isFormValidFlag:h})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let i=!0;const a=[];if(A().each(P,(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.validation)&&void 0!==t&&t.required&&(a.push(e.valid),i=i&&e.valid)})),y(i),i){var o,n,d,s,c,r,u,p;let e="";null===P||void 0===P||null===(o=P.industryHeadNames)||void 0===o||null===(n=o.value)||void 0===n||n.forEach((i=>{var l,a;const o=null!==(l=null===t||void 0===t||null===(a=t.find((e=>(null===e||void 0===e?void 0:e.industryHeadName)==i)))||void 0===a?void 0:a.id)&&void 0!==l?l:null;null!=o&&(e=""!=e?e+","+o:o)}));const i=null!==(d=null===(s=B.find((e=>e.companyName===P.companyName.value)))||void 0===s?void 0:s.id)&&void 0!==d?d:null,a={name:null===P||void 0===P||null===(c=P.name)||void 0===c?void 0:c.value,code:null===P||void 0===P||null===(r=P.code)||void 0===r?void 0:r.value,account_manager_email:null===P||void 0===P?void 0:P.account_manager_email.value,fromDate:me(null===P||void 0===P||null===(u=P.from_date)||void 0===u?void 0:u.value),description:null===P||void 0===P||null===(p=P.description)||void 0===p?void 0:p.value,industryHeadIds:e,isActive:1,updatedBy:oe,companyId:i};if(null!==q&&void 0!==q&&q.id){const e=(0,l.A)((0,l.A)({},a),{},{accountManagerId:null===q||void 0===q?void 0:q.id});de.updateAccountMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(k({}),be(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{k({}),x.W.show(e,N.a.ERROR)}))}else de.createAccountMaster(a).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(k({}),be(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{k({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null,Z?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{style:{maxWidth:"360px"},className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{$(!1),ye()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsx)("h4",{className:"popup-heading",children:"Deactivate Industry Head"})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{$(!1),ye()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{paddingBottom:"0rem",maxHeight:"calc(100vh - 452px)"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(le),formUpdateEvent:async e=>{ae(e)},isFormValidFlag:j})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{console.log("Submitting updated row data:",L),e.preventDefault();const i=le.industry_head_name.value;let a=[];if(i&&Array.isArray(i))a=i.map((e=>{const i=t.find((t=>t.industryHeadName===e));return i?i.id:null})).filter((e=>null!==e));else if(i){const e=t.find((e=>e.industryHeadName===i));e&&(a=[e.id])}const o=(0,l.A)((0,l.A)({},L),{},{deactivationDate:le.deactivationDate.value,industryHeadIds:a});console.log("updated row is ",o),je(o),$(!1),ae(A().cloneDeep(ie)),ye()}})})]})}):null]})},Z=()=>{const e={name:{inputType:"inputtext",label:"Technology Group Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)([]),[S,M]=(0,a.useState)(),[W,U]=(0,a.useState)(A().cloneDeep(e)),[q,k]=(0,a.useState)(A().cloneDeep(W)),Y=(new _.A).get("userInfo"),H=null===Y||void 0===Y?void 0:Y.userId;let P;const O=new C,G=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>V(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>Q(e)})]})},{label:"Technology Group",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Technology Group Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==c&&0==h&&(async()=>{await B()})()}),[c,h]);const B=async()=>{s(!0);try{var e;const t=await O.getTechnologyGroupMaster();return null===t||void 0===t||null===(e=t.groups)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),n(null===t||void 0===t?void 0:t.groups),null===t||void 0===t?void 0:t.groups}catch(t){console.error(t)}finally{s(!1)}},V=e=>{M(e),L(e),r(!0),p(!0)},z=e=>{y(!1)},L=e=>{try{W.name.value=null===e||void 0===e?void 0:e.name,W.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",k(A().cloneDeep(W))}catch(t){console.log("error",t)}},Q=e=>{P=e,b({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:K,rejectFunction:z}),y(!0)},K=()=>{s(!0),O.deactivateTechnologyGroupMaster((0,l.A)((0,l.A)({},P),{},{loggedInUserId:H})).then((()=>{var e;s(!1),y(!1),x.W.show("Technology Group record ".concat(null!==(e=P)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(s(!1),!1)))},J=()=>{r(!1),p(!1),M({}),U(A().cloneDeep(e)),k(A().cloneDeep(e))};return d?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Technology Group",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{r(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:G,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Technology_Group"}),h?(0,I.jsx)(E.A,{actionPopupToggle:j,onCloseFunction:z}):null]}),c?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{J()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," Technology Group"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{J()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(q),formUpdateEvent:async e=>{k(e)},isFormValidFlag:v})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];if(A().each(q,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),m(t),t){var a,o;const e={name:null===q||void 0===q||null===(a=q.name)||void 0===a?void 0:a.value,description:null===q||void 0===q||null===(o=q.description)||void 0===o?void 0:o.value,isActive:1,updatedBy:H};if(null!==S&&void 0!==S&&S.id){const t=(0,l.A)((0,l.A)({},e),{},{groupId:null===S||void 0===S?void 0:S.id});O.updateTechnologyGroupMaster(t).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(M({}),J(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else O.createTechnologyGroupMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(M({}),J(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},$=()=>{const e={name:{inputType:"inputtext",label:"Technology SubGroup Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},group_name:{inputType:"singleSelect",label:"Technology Group",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)([]),[S,M]=(0,a.useState)(),[W,U]=(0,a.useState)(A().cloneDeep(e)),[q,k]=(0,a.useState)(A().cloneDeep(W)),Y=(new _.A).get("userInfo"),H=null===Y||void 0===Y?void 0:Y.userId;let P;const O=new C,G=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Q(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>X(e)})]})},{label:"Technology Sub-Group",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Technology SubGroup Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Technology Group",fieldName:"techGroupNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"techGroupNames",changeFilter:!0,placeholder:"Technology Group",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.techGroupNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==c&&0==h&&(async()=>{await B();const e=await V();await z(e)})()}),[c,h]);const B=async()=>{s(!0);try{var e;const t=await O.getTechnologySubGroupMaster();return null===t||void 0===t||null===(e=t.subgroups)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),i(null===t||void 0===t?void 0:t.subgroups),null===t||void 0===t?void 0:t.subgroups}catch(t){console.error(t)}finally{s(!1)}},V=async()=>{s(!0);try{var e;const t=await O.getTechnologyGroupMaster(),i=null===t||void 0===t||null===(e=t.groups)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return n(i),i}catch(t){console.error(t)}finally{s(!1)}},z=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o).map((e=>null===e||void 0===e?void 0:e.name));W.group_name.options=e,U(W),await L(W)},L=async e=>{k(e)},Q=e=>{M(e),J(e),r(!0),p(!0)},K=e=>{y(!1)},J=e=>{try{W.name.value=null===e||void 0===e?void 0:e.name,W.group_name.value=null===e||void 0===e?void 0:e.techGroupNames,W.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",k(A().cloneDeep(W))}catch(t){console.log("error",t)}},X=e=>{P=e,b({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:Z,rejectFunction:K}),y(!0)},Z=()=>{s(!0),O.deactivateTechnologySubGroupMaster((0,l.A)((0,l.A)({},P),{},{loggedInUserId:H})).then((()=>{var e;s(!1),y(!1),x.W.show("Technology SubGroup record ".concat(null!==(e=P)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(s(!1),!1)))},$=()=>{r(!1),p(!1),M({}),U(A().cloneDeep(e)),k(A().cloneDeep(e))};return d?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Technology Sub-Group",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{r(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:G,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Technology_Sub-Group"}),h?(0,I.jsx)(E.A,{actionPopupToggle:j,onCloseFunction:K}):null]}),c?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{$()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," Technology SubGroup"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{$()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(q),formUpdateEvent:L,isFormValidFlag:v})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];if(A().each(q,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),m(t),t){var a,n;const e=null===o||void 0===o?void 0:o.find((e=>{var t;return(null===e||void 0===e?void 0:e.name)==(null===q||void 0===q||null===(t=q.group_name)||void 0===t?void 0:t.value)})),t={name:null===q||void 0===q||null===(a=q.name)||void 0===a?void 0:a.value,techGroupIds:(null===e||void 0===e?void 0:e.id)||null,description:null===q||void 0===q||null===(n=q.description)||void 0===n?void 0:n.value,isActive:1,updatedBy:H};if(null!==S&&void 0!==S&&S.id){const e=(0,l.A)((0,l.A)({},t),{},{subgroupId:null===S||void 0===S?void 0:S.id});O.updateTechnologySubGroupMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else O.createTechnologySubGroupMaster(t).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(M({}),$(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{M({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})},ee=()=>{const e={techName:{inputType:"inputtext",label:"Technology Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},group_name:{inputType:"singleSelect",label:"Technology Group",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},subGroup_name:{inputType:"multiSelect",label:"Technology SubGroup",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)([]),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!0),[j,b]=(0,a.useState)(!1),[S,M]=(0,a.useState)([]),[W,U]=(0,a.useState)(),[q,k]=(0,a.useState)(A().cloneDeep(e)),[Y,H]=(0,a.useState)(A().cloneDeep(q)),P=(new _.A).get("userInfo"),O=null===P||void 0===P?void 0:P.userId;let G;const B=new C,V=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Z(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>te(e)})]})},{label:"Technology",fieldName:"techName",textAlign:"left",sort:!0,filter:!0,fieldValue:"techName",changeFilter:!0,placeholder:"Technology Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.techName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Technology Sub-Group",fieldName:"techSubgroupNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"techSubgroupNames",changeFilter:!0,placeholder:"Technology SubGroup Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.techSubgroupNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Technology Group",fieldName:"techGroupNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"techGroupNames",changeFilter:!0,placeholder:"Technology Group",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.techGroupNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null!=e.description&&"null"!=e.description&&""!=e.description?e.description:"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==u&&0==j&&(async()=>{await z();const e=await L();await K(e)})()}),[u,j]);const z=async()=>{r(!0);try{var e;const t=await B.getTechnologyMaster();return null===t||void 0===t||null===(e=t.subgroups)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),i(null===t||void 0===t?void 0:t.subgroups),null===t||void 0===t?void 0:t.subgroups}catch(t){console.error(t)}finally{r(!1)}},L=async()=>{r(!0);try{var e;const t=await B.getTechnologyGroupMaster(),i=null===t||void 0===t||null===(e=t.groups)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return s(i),i}catch(t){console.error(t)}finally{r(!1)}},Q=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,i=arguments.length>1?arguments[1]:void 0;const l=null===t||void 0===t||null===(e=t.filter((e=>(null===e||void 0===e?void 0:e.techGroupIds)==i)))||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.name));q.subGroup_name.options=l,k(q)},K=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d).map((e=>null===e||void 0===e?void 0:e.name));q.group_name.options=e,k(q),await X(q)},J=async e=>{const t=null===d||void 0===d?void 0:d.find((t=>(null===t||void 0===t?void 0:t.name)===e));if(t){const e=await(async e=>{try{const t=await B.getTechnologySubGroupMaster(e);return n(null===t||void 0===t?void 0:t.subgroups),await Q(null===t||void 0===t?void 0:t.subgroups,e),null===t||void 0===t?void 0:t.subgroups}catch(t){console.error(t)}})(null===t||void 0===t?void 0:t.id);return null===e||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.techGroupIds)==(null===t||void 0===t?void 0:t.id))).map((e=>null===e||void 0===e?void 0:e.name))}return[]},X=async e=>{var t,i,a;const o=(0,l.A)({},e),n=(null===o||void 0===o||null===(t=o.group_name)||void 0===t||t.value,null===Y||void 0===Y||null===(i=Y.group_name)||void 0===i||i.value,await J(null===o||void 0===o||null===(a=o.group_name)||void 0===a?void 0:a.value));n&&(o.subGroup_name.options=n),A().isEqual(e,Y)||H((0,l.A)({},e))},Z=async e=>{U(e);const t=await J(null===e||void 0===e?void 0:e.techGroupNames);ee(e,t),p(!0),m(!0)},$=e=>{b(!1)},ee=(e,t)=>{try{var i;console.log("here data",e),console.log("here subGroupList",t),q.techName.value=null===e||void 0===e?void 0:e.techName,q.group_name.value=null===e||void 0===e?void 0:e.techGroupNames,q.subGroup_name.options=t,q.subGroup_name.value=null===e||void 0===e||null===(i=e.techSubgroupNames)||void 0===i?void 0:i.split(","),q.description.value=null!=(null===e||void 0===e?void 0:e.description)&&"null"!=(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"",H(A().cloneDeep(q))}catch(l){console.log("error",l)}},te=e=>{G=e,M({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:ie,rejectFunction:$}),b(!0)},ie=()=>{r(!0),B.deactivateTechnologyMaster((0,l.A)((0,l.A)({},G),{},{loggedInUserId:O})).then((()=>{var e;r(!1),b(!1),x.W.show("Technology record ".concat(null!==(e=G)&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(r(!1),!1)))},le=()=>{p(!1),m(!1),U({}),k(A().cloneDeep(e)),H(A().cloneDeep(e))};return c?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Technology",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{p(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:V,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Technology"}),j?(0,I.jsx)(E.A,{actionPopupToggle:S,onCloseFunction:$}):null]}),u?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{le()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[v?"Update":"Add New"," Technology"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{le()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:q,formUpdateEvent:X,isFormValidFlag:h})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];if(A().each(Y,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),y(t),t){var a,n,s,c;const e=null===d||void 0===d?void 0:d.find((e=>{var t;return(null===e||void 0===e?void 0:e.name)==(null===Y||void 0===Y||null===(t=Y.group_name)||void 0===t?void 0:t.value)}));null===o||void 0===o||o.find((e=>{var t;return(null===e||void 0===e?void 0:e.name)==(null===Y||void 0===Y||null===(t=Y.subGroup_name)||void 0===t?void 0:t.value)}));let t="";null===Y||void 0===Y||null===(a=Y.subGroup_name)||void 0===a||null===(n=a.value)||void 0===n||n.forEach((e=>{var i,l;const a=null!==(i=null===o||void 0===o||null===(l=o.find((t=>(null===t||void 0===t?void 0:t.name)==e)))||void 0===l?void 0:l.id)&&void 0!==i?i:null;null!=a&&(t=""!=t?t+","+a:a)}));const i={techName:null===Y||void 0===Y||null===(s=Y.techName)||void 0===s?void 0:s.value,techGroupIds:(null===e||void 0===e?void 0:e.id)||null,techSubgroupIds:t||null,description:null===Y||void 0===Y||null===(c=Y.description)||void 0===c?void 0:c.value,isActive:1,updatedBy:O};if(null!==W&&void 0!==W&&W.id){const e=(0,l.A)((0,l.A)({},i),{},{id:null===W||void 0===W?void 0:W.id});B.updateTechnologyMaster(e).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(U({}),le(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{U({}),x.W.show(e,N.a.ERROR)}))}else B.createTechnologyMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(U({}),le(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{U({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null]})};class te{constructor(){this.getOemMasterData=async()=>{try{const e=await c.S.postRequest(s.R.GET_OEM_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createOemMasterData=async e=>{try{const t=await c.S.postRequest(null!==e&&void 0!==e&&e.id?s.R.UPDATE_OEM_MASTER:s.R.CREATE_OEM_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activateDeactivateOemMaster=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_OEM_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const ie=()=>{const e={oemName:{inputType:"inputtext",label:"OEM Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},productName:{inputType:"inputtext",label:"Product Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},type:{inputType:"singleSelect",label:"Type",options:["License","AMC"],value:null,validation:{required:!0},fieldWidth:"col-md-4"}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)([]),[j,b]=(0,a.useState)(A().cloneDeep(e)),[S,C]=(0,a.useState)(A().cloneDeep(j)),M=(new _.A).get("userInfo"),W=null===M||void 0===M?void 0:M.userId,U=new te,q=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Y(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>P(e)})]})},{label:"Oem Name",fieldName:"oemName",textAlign:"left",sort:!0,filter:!0,fieldValue:"oemName",changeFilter:!0,placeholder:"OEM Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.oemName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Product Names",fieldName:"productName",textAlign:"left",sort:!0,filter:!0,fieldValue:"productName",changeFilter:!0,placeholder:"Product Names",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.productName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{k()}),[]);const k=async()=>{try{const t=await U.getOemMasterData();var e;if((null===t||void 0===t?void 0:t.statusCode)===T.B.SUCCESS)null===t||void 0===t||null===(e=t.oems)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),i(t.oems)}catch(t){x.W.show(t||"Something Went Wrong",N.a.ERROR)}},Y=async e=>{p(e),j.oemName.value=null===e||void 0===e?void 0:e.oemName,j.productName.value=null===e||void 0===e?void 0:e.productName,j.type.value=e.type||"",C(A().cloneDeep(j)),s(!0)},H=e=>{m(!1)},P=e=>{y({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:()=>O(e),rejectFunction:H}),m(!0)},O=e=>{n(!0),U.activateDeactivateOemMaster({id:e.id,isActive:0==e.isActive?1:0,loggedInUserId:W}).then((()=>{n(!1),m(!1),k(),x.W.show("Oem record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(n(!1),!1)))},G=()=>{s(!1),p(null),b(A().cloneDeep(e)),C(A().cloneDeep(e))};return o?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New OEM",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{s(!0),p(null)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:q,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"OEM"}),v?(0,I.jsx)(E.A,{actionPopupToggle:h,onCloseFunction:H}):null]}),d?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{G()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," OEM"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{G()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:j,formUpdateEvent:async e=>{const t=(0,l.A)({},e);C(t)},isFormValidFlag:c})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async e=>{var t,i;e.preventDefault();const l={oemName:null===S||void 0===S||null===(t=S.oemName)||void 0===t?void 0:t.value,productName:null===S||void 0===S||null===(i=S.productName)||void 0===i?void 0:i.value,type:null===S||void 0===S?void 0:S.type.value,isActive:1,updatedBy:W};u&&null!==u&&void 0!==u&&u.id&&(l.id=u.id);try{const e=await U.createOemMasterData(l);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(G(),k(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(a){x.W.show(a||"Something Went Wrong",N.a.ERROR)}}})})]})}):null]})};class le{constructor(){this.getPolestarProductMasterData=async()=>{try{const e=await c.S.postRequest(s.R.GET_POLESTAR_PRODUCT_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createPolestarProductMasterData=async e=>{try{const t=await c.S.postRequest(null!==e&&void 0!==e&&e.id?s.R.UPDATE_POLESTAR_PRODUCT_MASTER:s.R.CREATE_POLESTAR_PRODUCT_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activateDeactivatePolestarProductMaster=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_POLESTAR_PRODUCT_MASTER_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const ae=()=>{const e={productName:{inputType:"inputtext",label:"Product Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtext",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)({}),[u,p]=(0,a.useState)(!0),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)([]),[j,b]=(0,a.useState)(A().cloneDeep(e)),S=(new _.A).get("userInfo"),C=null===S||void 0===S?void 0:S.userId;const M=new le,W=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>q(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>H(e)})]})},{label:"Product Name",fieldName:"productName",textAlign:"left",sort:!0,filter:!0,fieldValue:"productName",changeFilter:!0,placeholder:"Product Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.productName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",sort:!0,filter:!0,fieldValue:"description",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.description}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{U()}),[]);const U=async()=>{try{const t=await M.getPolestarProductMasterData();var e;if((null===t||void 0===t?void 0:t.statusCode)===T.B.SUCCESS)O(),null===t||void 0===t||null===(e=t.products)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),i(t.products)}catch(t){x.W.show(t||"Something Went Wrong",N.a.ERROR)}},q=async e=>{r(e),Y(e),s(!0)},k=e=>{m(!1)},Y=e=>{j.productName.value=e.productName,j.description.value=e.description},H=e=>{y({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:()=>P(e),rejectFunction:k}),m(!0)},P=e=>{n(!0),M.activateDeactivatePolestarProductMaster({id:e.id,isActive:0==e.isActive?1:0,loggedInUserId:C}).then((()=>{n(!1),U(),m(!1),x.W.show("Polestar product record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(n(!1),!1)))},O=()=>{s(!1),b(A().cloneDeep(e))};return o?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Product",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{r(null),s(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:W,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Polestar_Product_Sales"}),v?(0,I.jsx)(E.A,{actionPopupToggle:h,onCloseFunction:k}):null]}),d?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{O()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[c?"Update":"Add New"," Product"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{O()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(j),formUpdateEvent:async e=>{const t=(0,l.A)({},e);b(t)},isFormValidFlag:u})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async e=>{var t;e.preventDefault();const i={productName:null===j||void 0===j||null===(t=j.productName)||void 0===t?void 0:t.value,description:null===j||void 0===j?void 0:j.description.value,isActive:1,updatedBy:C};c&&null!==c&&void 0!==c&&c.id&&(i.id=c.id);try{const e=await M.createPolestarProductMasterData(i);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(O(),U(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(l){x.W.show(l||"Something Went Wrong",N.a.ERROR)}}})})]})}):null]})};class oe{constructor(){this.getProjectServiceMasterData=async()=>{try{const e=await c.S.postRequest(s.R.GET_PROJECT_SERVICE_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createProjectServiceMasterData=async e=>{try{const t=await c.S.postRequest(null!==e&&void 0!==e&&e.id?s.R.UPDATE_PROJECT_SERVICE_MASTER:s.R.CREATE_PROJECT_SERVICE_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activateDeactivateProjectServiceMaster=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_PROJECT_SERVICE_MASTER_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const ne=()=>{const e={name:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtext",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)({}),[u,p]=(0,a.useState)(!0),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)([]),[j,b]=(0,a.useState)(A().cloneDeep(e)),S=(new _.A).get("userInfo"),C=null===S||void 0===S?void 0:S.userId,M=new oe,W=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>q(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>H(e)})]})},{label:"Name",fieldName:"name",textAlign:"left",sort:!0,filter:!0,fieldValue:"name",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"nameTooltip-".concat(e.id),children:e.name}),(0,I.jsx)(f.m,{target:"#nameTooltip-".concat(e.id),position:"top"})]})},{label:"Description",fieldName:"description",textAlign:"left",sort:!0,filter:!0,fieldValue:"description",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.description}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})}];(0,a.useEffect)((()=>{U()}),[]);const U=async()=>{try{const t=await M.getProjectServiceMasterData();var e;if((null===t||void 0===t?void 0:t.statusCode)===T.B.SUCCESS)O(),null===t||void 0===t||null===(e=t.records)||void 0===e||e.forEach((e=>{e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),i(t.records)}catch(t){x.W.show(t||"Something Went Wrong",N.a.ERROR)}},q=async e=>{r(e),Y(e),s(!0)},k=e=>{m(!1)},Y=e=>{j.name.value=e.name,j.description.value=e.description},H=e=>{y({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:()=>P(e),rejectFunction:k}),m(!0)},P=e=>{n(!0),M.activateDeactivateProjectServiceMaster({id:e.id,isActive:0==e.isActive?1:0,loggedInUserId:C}).then((()=>{n(!1),U(),m(!1),x.W.show("Project service record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(n(!1),!1)))},O=()=>{s(!1),b(A().cloneDeep(e))};return o?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Project/Service Master",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{r(null),s(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:W,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Project/Service_Master"}),v?(0,I.jsx)(E.A,{actionPopupToggle:h,onCloseFunction:k}):null]}),d?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{O()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[c?"Update":"Add New"," Project/Service Master"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{O()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(j),formUpdateEvent:async e=>{const t=(0,l.A)({},e);b(t)},isFormValidFlag:u})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async e=>{var t;e.preventDefault();const i={name:null===j||void 0===j||null===(t=j.name)||void 0===t?void 0:t.value,description:null===j||void 0===j?void 0:j.description.value,isActive:1,updatedBy:C};c&&null!==c&&void 0!==c&&c.id&&(i.id=c.id);try{const e=await M.createProjectServiceMasterData(i);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(O(),U(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(l){x.W.show(l||"Something Went Wrong",N.a.ERROR)}}})})]})}):null]})};class de{constructor(){this.getRegionHeadMaster=async e=>{try{const t=await c.S.postRequest(s.R.GET_REGION_HEAD_MASTER,{companyId:e||null});return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.createRegionHeadMaster=async e=>{try{const t=await c.S.postRequest(s.R.CREATE_REGION_HEAD_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateRegionHeadMaster=async e=>{try{const t=await c.S.postRequest(s.R.UPDATE_REGION_HEAD_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.deactivateRegionHeadMaster=async e=>{try{const t={regionHeadId:e.id,isActive:!e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId,deactivationDate:null!==e&&void 0!==e&&e.deactivationDate?F()(new Date(null===e||void 0===e?void 0:e.deactivationDate)).format("YYYY-MM-DD"):null},i=await c.S.postRequest(s.R.TOGGLE_REGION_HEAD_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return t}}}}const se=()=>{const[e,t]=(0,a.useState)(),i={companyName:{inputType:"singleSelect",label:"Company",disable:!1,options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,disable:!0,validation:{required:!0},fieldWidth:"col-md-4"},regionCode:{inputType:"multiSelect",label:"Region",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},regionHeadName:{inputType:"inputtext",label:"Region Head Name",value:null,validation:{required:!0,pattern:W.onlyCharacters.pattern,patternHint:W.onlyCharacters.patternHint},fieldWidth:"col-md-4"},regionHeadEcode:{inputType:"inputtext",label:"Region Head Ecode",value:null,validation:{required:!0},fieldWidth:"col-md-4"},regionHeadEmail:{inputType:"inputtext",label:"Region Head Email",value:null,validation:{required:!0,email:!0},fieldWidth:"col-md-4"},fromDate:{inputType:"singleDatePicker",label:"From Date",value:null,min:new Date((new Date).setMonth((new Date).getMonth()-3)),max:new Date((new Date).setMonth((new Date).getMonth()+3)),validation:{required:!0},fieldWidth:"col-md-4"}},[n,d]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[r,u]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[C,M]=(0,a.useState)(!1),[U,q]=(0,a.useState)(!0),[Y,H]=(0,a.useState)(!1),[P,O]=(0,a.useState)([]),[G,B]=(0,a.useState)([]),[V,z]=(0,a.useState)(!1),[L,Q]=(0,a.useState)(null),[K,J]=(0,a.useState)(!0),X={deactivationDate:{inputType:"singleDatePicker",label:"Select Deactivation Date",value:null,min:new Date((new Date).getFullYear(),(new Date).getMonth()-6,(new Date).getDate()),max:new Date((new Date).getFullYear(),(new Date).getMonth()+6,(new Date).getDate()),validation:{required:!0},fieldWidth:"col-md-12"}},[Z,$]=(0,a.useState)(A().cloneDeep(X)),[ee,te]=(0,a.useState)(A().cloneDeep(i)),[ie,le]=(0,a.useState)(A().cloneDeep(ee)),[ae,oe]=(0,a.useState)({}),ne=(new _.A).get("userInfo"),se=null===ne||void 0===ne?void 0:ne.userId;let ce;const re=new o.F,ue=new v.m,pe=(new m.r,new k),ve=new de,me=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>Ae(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>(e=>{console.log("here we are"),Q(e),1==e.isActive?z(!0):we(e)})(e)})]})},{label:"Company",fieldName:"companyName",textAlign:"left",sort:!0,filter:!0,fieldValue:"companyName",changeFilter:!0,placeholder:"Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.companyName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Names",fieldName:"regionNames",textAlign:"left",sort:!0,filter:!0,fieldValue:"regionNames",changeFilter:!0,placeholder:"State",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionNames}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Head Name",fieldName:"regionHeadName",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionHeadName}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Head Ecode",fieldName:"regionHeadEcode",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionHeadEcode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Region Head Email",fieldName:"regionHeadEmail",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.regionHeadEmail}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"From Date",fieldName:"fromDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"fromDate",changeFilter:!0,placeholder:"From Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.fromDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"To Date",fieldName:"deactivationDate",textAlign:"left",sort:!0,filter:!0,fieldValue:"deactivationDate",changeFilter:!0,placeholder:"To Date",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.deactivationDate}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{0==b&&0==Y&&(async()=>{await ye();const e=await he(),t=await ge();await xe(e),await Ne(t)})()}),[b,Y]);const he=async()=>{j(!0);try{var e;const t=await re.getCompanyMaster(),i=null===t||void 0===t||null===(e=t.companies)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return d(i),i}catch(t){console.error(t)}finally{j(!1)}},ye=async()=>{j(!0);try{var e;const t=await ve.getRegionHeadMaster();return null===t||void 0===t||null===(e=t.regionHeads)||void 0===e||e.forEach((e=>{e.fromDate=null!==e&&void 0!==e&&e.fromDate?F()(null===e||void 0===e?void 0:e.fromDate).format("DD-MM-YYYY"):null,e.deactivationDate=null!==e&&void 0!==e&&e.deactivationDate?F()(null===e||void 0===e?void 0:e.deactivationDate).format("DD-MM-YYYY"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(null===e||void 0===e?void 0:e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),h(null===t||void 0===t?void 0:t.regionHeads),null===t||void 0===t?void 0:t.regionHeads}catch(t){console.error(t)}finally{j(!1)}},ge=async()=>{j(!0);try{var e;const t=await ue.getCountryMaster(),i=null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return c(i),i}catch(t){console.error(t)}finally{j(!1)}},fe=async e=>{try{var t;const i=await pe.getRegionMaster(e),l=null===i||void 0===i||null===(t=i.regions)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive)));return B(l),await je(l),l}catch(i){console.error(i)}},xe=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n).map((e=>null===e||void 0===e?void 0:e.companyName));ee.companyName.options=e,te(ee)},Ne=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s).map((e=>null===e||void 0===e?void 0:e.name));ee.country_name.options=e,te(ee),await be(ee)},je=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:G).map((e=>e.regionCode));ee.regionCode.options=e,te(ee)},be=async e=>{var t,i;const l=A().cloneDeep(e);if(console.log("form-------\x3e",l),(null===l||void 0===l||null===(t=l.companyName)||void 0===t?void 0:t.value)!=(null===ie||void 0===ie||null===(i=ie.companyName)||void 0===i?void 0:i.value)){const e=null===n||void 0===n?void 0:n.find((e=>{var t;return(null===e||void 0===e?void 0:e.companyName)==(null===l||void 0===l||null===(t=l.companyName)||void 0===t?void 0:t.value)})),t=null===s||void 0===s?void 0:s.find((t=>(null===t||void 0===t?void 0:t.name)==(null===e||void 0===e?void 0:e.countryName)));if(t){l.country_name.value=null===e||void 0===e?void 0:e.countryName;const i=await fe(null===t||void 0===t?void 0:t.id);if(i){const e=null===i||void 0===i?void 0:i.map((e=>e.regionCode));l.regionCode.options=e||[]}}}le(l)},Ae=async e=>{t(e);const i=null===s||void 0===s?void 0:s.find((t=>(null===t||void 0===t?void 0:t.name)==(null===e||void 0===e?void 0:e.countryName))),l=await fe(null===i||void 0===i?void 0:i.id),a=null===l||void 0===l?void 0:l.map((e=>e.regionCode));Ce(e,a),S(!0),M(!0)},Se=()=>{Q(null),z(!1),J(!0),$(A().cloneDeep(X))},Te=e=>{Se(),H(!1)},_e=e=>{if(!e)return null;const t=new Date(e);if(isNaN(t))return"";const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},Ce=async(e,t)=>{try{ee.companyName.value=null===e||void 0===e?void 0:e.companyName,ee.companyName.disable=!0,ee.country_name.value=null===e||void 0===e?void 0:e.countryName,ee.regionCode.options=t,ee.regionCode.value=null===e||void 0===e?void 0:e.regionCodes.split(","),ee.regionHeadEcode.value=null===e||void 0===e?void 0:e.regionHeadEcode,ee.regionHeadEmail.value=null===e||void 0===e?void 0:e.regionHeadEmail,ee.regionHeadName.value=null===e||void 0===e?void 0:e.regionHeadName,ee.fromDate.value=(e=>{if(!e)return new Date;const t=new Date(e);if(isNaN(t))return new Date;const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return new Date(i,l-1,a)})(null===e||void 0===e?void 0:e.fromDate),le(A().cloneDeep(ee))}catch(i){console.log("error",i)}},we=e=>{ce=e,O({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:De,rejectFunction:Te}),H(!0)},De=()=>{j(!0),ve.deactivateRegionHeadMaster((0,l.A)((0,l.A)({},ce),{},{loggedInUserId:se,deactivationDate:Z.deactivationDate.value})).then((e=>{var t;(j(!1),H(!1),200===e.statusCode)&&(Se(),x.W.show("Region Head record ".concat(null!==(t=ce)&&void 0!==t&&t.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS))})).catch((e=>(j(!1),!1)))},Ee=()=>{S(!1),M(!1),t({}),te(A().cloneDeep(i)),le(A().cloneDeep(i))};return y?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Region Head",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{S(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:p,column:me,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Region_Head"}),Y?(0,I.jsx)(E.A,{actionPopupToggle:P,onCloseFunction:Te,loading:!1}):null]}),b?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{Ee()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[C?"Update":"Add New"," Region Head"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{Ee()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(ie),formUpdateEvent:be,isFormValidFlag:U})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:i=>{var a,o,d,c;i.preventDefault();let r=!0;console.log("oooooooooooo->>>>>>>>>",ie),A().each(ie,((e,t)=>{var i;null!==e&&void 0!==e&&null!==(i=e.validation)&&void 0!==i&&i.required&&(r=!!("regionCode"!==t||e.value&&0!==e.value.length)&&(r&&!!e.value))})),q(r);const u=null!==(a=null===(o=n.find((e=>e.companyName===ie.companyName.value)))||void 0===o?void 0:o.id)&&void 0!==a?a:null,p=null!==(d=null===(c=s.find((e=>e.name===ie.country_name.value)))||void 0===c?void 0:c.id)&&void 0!==d?d:null,v=G.filter((e=>{var t,i;return null===ie||void 0===ie||null===(t=ie.regionCode)||void 0===t||null===(i=t.value)||void 0===i?void 0:i.includes(null===e||void 0===e?void 0:e.regionCode)})).map((e=>null===e||void 0===e?void 0:e.id));if(r){var m,h,y,g;const i={companyId:u,countryId:p,regionId:v.toString(),regionHeadName:null===ie||void 0===ie||null===(m=ie.regionHeadName)||void 0===m?void 0:m.value,regionHeadEcode:null===ie||void 0===ie||null===(h=ie.regionHeadEcode)||void 0===h?void 0:h.value,regionHeadEmail:null===ie||void 0===ie||null===(y=ie.regionHeadEmail)||void 0===y?void 0:y.value,fromDate:_e(null===ie||void 0===ie||null===(g=ie.fromDate)||void 0===g?void 0:g.value),isActive:1,updatedBy:se};if(null!==e&&void 0!==e&&e.id){const a=(0,l.A)((0,l.A)({},i),{},{regionHeadId:null===e||void 0===e?void 0:e.id});ve.updateRegionHeadMaster(a).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS&&(t({}),Ee(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else ve.createRegionHeadMaster(i).then((e=>{(null===e||void 0===e?void 0:e.statusCode)===T.B.CREATED&&(t({}),Ee(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))})).catch((e=>{t({}),x.W.show(e,N.a.ERROR)}))}else x.W.show("Please Check all the Fields!",N.a.ERROR)}})})]})}):null,V?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{style:{maxWidth:"360px"},className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{Se()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsx)("h4",{className:"popup-heading",children:"Deactivate Region Head"})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{Se()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{paddingBottom:"0rem",maxHeight:"calc(100vh - 535px)"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(Z),formUpdateEvent:async e=>{$(e)},isFormValidFlag:K})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:e=>{e.preventDefault();let t=!0;const i=[];console.log("jjjjjjjjjjjj",Z),A().each(Z,(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.validation)&&void 0!==l&&l.required&&(i.push(e.valid),t=t&&e.valid)})),J(t),t&&we(L)}})})]})}):null]})};class ce{constructor(){this.getFinancialYearMasterData=async()=>{try{const e=await c.S.postRequest(s.R.GET_FINANCIAL_YEAR_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createFinancialYearMasterData=async e=>{try{const t=await c.S.postRequest(null!==e&&void 0!==e&&e.id?s.R.UPDATE_FINANCIAL_YEAR_MASTER:s.R.CREATE_FINANCIAL_YEAR_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activateDeactivateFinancialYearMaster=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await c.S.postRequest(s.R.TOGGLE_FINANCIAL_YEAR_MASTER_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}}}}const re=()=>{const[e,t]=(0,a.useState)(["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040"]),i={startYear:{inputType:"singleDatePicker",label:"Start Date",value:null,validation:{required:!0},fieldWidth:"col-md-6"},financialYearName:{inputType:"inputtext",label:"Financial Year",value:null,disable:!0,validation:{required:!0},fieldWidth:"col-md-6"}},[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)({}),[v,m]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)([]),[S,C]=(0,a.useState)(A().cloneDeep(i)),M=(new _.A).get("userInfo"),W=null===M||void 0===M?void 0:M.userId,U=new ce,q=e=>{y(!1)},k=e=>{b({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:()=>(e=>{s(!0),U.activateDeactivateFinancialYearMaster({id:e.id,isActive:0==e.isActive?1:0,loggedInUserId:W}).then((()=>{s(!1),H(),y(!1),x.W.show("Financial year record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(s(!1),!1)))})(e),rejectFunction:q}),y(!0)},Y=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>P(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>k(e)})]})},{label:"Financial Year",fieldName:"financialYearName",textAlign:"left",sort:!0,filter:!0,fieldValue:"financialYearName",changeFilter:!0,placeholder:"Financial Year Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"financialYearNameTooltip-".concat(e.id),children:e.financialYearName}),(0,I.jsx)(f.m,{target:"#financialYearNameTooltip-".concat(e.id),position:"top"})]})},{label:"Start Date",fieldName:"startYear",textAlign:"left",sort:!0,filter:!0,fieldValue:"startYear",changeFilter:!0,placeholder:"Start Year",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.startYear}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"End Date",fieldName:"endYear",textAlign:"left",sort:!0,filter:!0,fieldValue:"endYear",changeFilter:!0,placeholder:"End Year",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.endYear}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{H()}),[]);const H=async()=>{try{const t=await U.getFinancialYearMasterData();var e;if((null===t||void 0===t?void 0:t.statusCode)===T.B.SUCCESS)B(),console.log("this is financial response",t.records),null===(e=t.records)||void 0===e||e.forEach((e=>{var t;e.startYear=null!==e&&void 0!==e&&e.startYear?F()(e.startYear).format("DD-MM-YYYY"):null,e.endYear=null!==e&&void 0!==e&&e.endYear?null===(t=F()(e.endYear))||void 0===t?void 0:t.format("DD-MM-YYYY"):null,e.updated_at=null!==e&&void 0!==e&&e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),n(t.records)}catch(t){x.W.show(t||"Something Went Wrong",N.a.ERROR)}},P=async e=>{p(e),G(e),r(!0)},O=e=>{if(console.log("dateString",e),!e)return null;const t=new Date(e),i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)},G=e=>{console.log("data there ---\x3e",e),S.financialYearName.value=e.financialYearName,S.startYear.value=(e=>{if(!e)return new Date;const t=new Date(e);if(isNaN(t))return new Date;const i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return new Date(i,l-1,a)})(e.startYear)},B=()=>{r(!1),C(A().cloneDeep(i))};return d?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Financial Year",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{p(null),r(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:Y,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Financial_Year"}),h?(0,I.jsx)(E.A,{actionPopupToggle:j,onCloseFunction:B}):null]}),c?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{B()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," Financial Year"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{B()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(S),formUpdateEvent:async e=>{var t;console.log("fy form: ",e);const i=null===e||void 0===e||null===(t=e.startYear)||void 0===t?void 0:t.value;if(i){const t=new Date(i).getFullYear(),a=t+1,o="FY ".concat(t%100,"-").concat(a%100),n=(0,l.A)((0,l.A)({},e),{},{financialYearName:(0,l.A)((0,l.A)({},e.financialYearName),{},{value:o})});C(n)}},isFormValidFlag:v})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async e=>{var t,i,l;e.preventDefault(),console.log("data there ---\x3e",S);const a=null===S||void 0===S||null===(t=S.startYear)||void 0===t?void 0:t.value;let o="";if(a){const e=new Date(a).getFullYear(),t=new Date("03/31/".concat(e+1));o=O(t.toISOString())}const n={financialYearName:null===S||void 0===S||null===(i=S.financialYearName)||void 0===i?void 0:i.value,startYear:O(null===S||void 0===S||null===(l=S.startYear)||void 0===l?void 0:l.value),endYear:o,isActive:1,updatedBy:W};u&&null!==u&&void 0!==u&&u.id&&(n.id=u.id),console.log("object-----\x3e",n);try{const e=await U.createFinancialYearMasterData(n);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(B(),H(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(d){x.W.show(d||"Something Went Wrong",N.a.ERROR)}}})})]})}):null]})};var ue=i(45),pe=i(8120);const ve=["exchangeRate"],me=()=>{const e={currencyCode:{inputType:"inputtext",label:"Code",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtext",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[t,i]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)({}),[u,p]=(0,a.useState)(!0),[v,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)([]),[S,C]=(0,a.useState)(A().cloneDeep(e)),[M,W]=(0,a.useState)([]),U=(new _.A).get("userInfo"),q=null===U||void 0===U?void 0:U.userId,k=new pe.A,Y=[{label:"Currency Code",fieldName:"currencyCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"currencyCode",changeFilter:!0,placeholder:"Currency Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.currencyCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Exchange Rate In INR",fieldName:"exchangeRate",textAlign:"left",sort:!0,filter:!0,fieldValue:"exchangeRate",changeFilter:!0,placeholder:"Exchange Rate In Rs",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:(null===e||void 0===e?void 0:e.exchangeRateInINR)||"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Date",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{children:e.updated_at})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}],H=[{label:"Currency Code",fieldName:"currencyCode",textAlign:"left",sort:!0,filter:!0,fieldValue:"currencyCode",changeFilter:!0,placeholder:"Currency Code",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:e.currencyCode}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Exchange Rate In INR",fieldName:"exchangeRate",textAlign:"left",sort:!0,filter:!0,fieldValue:"exchangeRate",changeFilter:!0,placeholder:"Exchange Rate In Rs",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"companyNameTooltip-".concat(e.id),children:(null===e||void 0===e?void 0:e.exchangeRateInINR)||"NA"}),(0,I.jsx)(f.m,{target:"#companyNameTooltip-".concat(e.id),position:"top"})]})},{label:"Date",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{children:e.updated_at})})}];(0,a.useEffect)((()=>{P()}),[]);const P=async()=>{try{const e=await k.getCurrencyMasterData();if((null===e||void 0===e?void 0:e.statusCode)===T.B.SUCCESS){G(),e.data.forEach((e=>{e.exchangeRateInINR=(1/(null===e||void 0===e?void 0:e.exchangeRate)).toFixed(4),e.updated_at=F()(c.updated_at).format("DD-MM-YYYY HH:mm:ss")}));const t=null===e||void 0===e?void 0:e.data.map((e=>{let{exchangeRate:t}=e;return(0,ue.A)(e,ve)}));console.log("response.data",t),i(t)}}catch(e){x.W.show(e||"Something Went Wrong",N.a.ERROR)}},O=()=>{m(!1)},G=()=>{s(!1),C(A().cloneDeep(e))};return o?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:t,column:Y,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,downloadedfileName:"Currency_Table"}),v&&(0,I.jsx)(E.A,{actionPopupToggle:j,onCloseFunction:O})]}),d&&(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{G()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[c?"Update":"Add New"," Currency"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{G()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",children:(0,I.jsx)(R.A,{form:A().cloneDeep(S),formUpdateEvent:async e=>{const t=(0,l.A)({},e);C(t)},isFormValidFlag:u})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",submitEvent:async e=>{var t,i;e.preventDefault();const l={currencyCode:null===S||void 0===S||null===(t=S.currencyCode)||void 0===t?void 0:t.value,description:null===S||void 0===S||null===(i=S.description)||void 0===i?void 0:i.value,isActive:1,updatedBy:q};null!==c&&void 0!==c&&c.id&&(l.id=c.id);try{const e=await k.createCurrencyMasterData(l);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(G(),P(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(a){x.W.show(a||"Something Went Wrong",N.a.ERROR)}}})})]})}),h&&(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsx)("h4",{className:"popup-heading",children:" Exchange Rate History"}),(0,I.jsx)("span",{className:"popup-close",onClick:()=>y(!1),children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",children:(0,I.jsx)("p",{className:"m-0",children:(0,I.jsx)(D.A,{data:M,column:H,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0})})})]})})]})};var he=i(2862);const ye=()=>{const[e,t]=(0,a.useState)([]),i={countryCode:{inputType:"singleSelect",label:"Select Country",options:e,value:null,validation:{required:!0},fieldWidth:"col-md-6"},taxType:{inputType:"singleSelect",label:"Select Tax Type",options:["Exempt","Export","Intra-State","Inter-State"],value:null,validation:{required:!0},fieldWidth:"col-md-6"},taxFieldName:{inputType:"inputtext",label:"Tax Field Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},taxPercentage:{inputType:"inputNumber",label:"Tax Percentage",value:null,validation:{required:!0},inputNumberOptions:{mode:"decimal",maxFractionDigits:2},fieldWidth:"col-md-6"}},[o,n]=(0,a.useState)([]),[d,s]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[u,p]=(0,a.useState)({}),[m,h]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[b,S]=(0,a.useState)([]),[C,M]=(0,a.useState)(A().cloneDeep(i)),W=(new _.A).get("userInfo"),U=null===W||void 0===W?void 0:W.userId,q=new he.n,k=new v.m,Y=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:e=>(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,I.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>P(e)}),(0,I.jsx)("span",{className:"pi pi-".concat(e.isActive?"ban":"check-circle"),style:{cursor:"pointer"},title:e.isActive?"Deactivate":"Activate",onClick:()=>B(e)})]})},{label:"Country",fieldName:"countryName",textAlign:"left",sort:!0,filter:!0,fieldValue:"countryName",changeFilter:!0,placeholder:"Country Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"countryCodeTooltip-".concat(e.id),children:e.countryName}),(0,I.jsx)(f.m,{target:"#countryCodeTooltip-".concat(e.id),position:"top"})]})},{label:"Tax Type",fieldName:"taxType",textAlign:"left",sort:!0,filter:!0,fieldValue:"taxType",changeFilter:!0,placeholder:"Tax Type",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"taxTypeTooltip-".concat(e.id),children:e.taxType}),(0,I.jsx)(f.m,{target:"#taxTypeTooltip-".concat(e.id),position:"top"})]})},{label:"Tax Field Name",fieldName:"taxFieldName",textAlign:"left",sort:!0,filter:!0,fieldValue:"taxFieldName",changeFilter:!0,placeholder:"Tax Field Name",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"taxFieldNameTooltip-".concat(e.id),children:e.taxFieldName}),(0,I.jsx)(f.m,{target:"#taxFieldNameTooltip-".concat(e.id),position:"top"})]})},{label:"Tax Percentage",fieldName:"taxPercentage",textAlign:"left",sort:!0,filter:!0,fieldValue:"taxPercentage",changeFilter:!0,placeholder:"Tax Percentage",body:e=>(0,I.jsx)("div",{children:(0,I.jsxs)("span",{children:[e.taxPercentage,"%"]})})},{label:"Status",fieldName:"isActive",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:e=>(0,I.jsx)("div",{children:(0,I.jsx)("span",{style:{color:1==(null===e||void 0===e?void 0:e.isActive)?"green":"red"},children:1==(null===e||void 0===e?void 0:e.isActive)?"Active":"Inactive"})})},{label:"Updated By",fieldName:"updated_by",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_by",changeFilter:!0,placeholder:"Updated By",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:null===e||void 0===e?void 0:e.updated_by}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})},{label:"Updated At",fieldName:"updated_at",textAlign:"left",sort:!0,filter:!0,fieldValue:"updated_at",changeFilter:!0,placeholder:"Description",body:e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{id:"descriptionTooltip-".concat(e.id),children:e.updated_at}),(0,I.jsx)(f.m,{target:"#descriptionTooltip-".concat(e.id),position:"top"})]})}];(0,a.useEffect)((()=>{(async()=>{s(!0);try{var e;const l=await k.getCountryMaster();console.log("countriesList------\x3e",null===l||void 0===l?void 0:l.countries);const a=null===l||void 0===l||null===(e=l.countries)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.isactive)||(null===e||void 0===e?void 0:e.isActive))),o=await(null===a||void 0===a?void 0:a.map((e=>({label:e.name,value:e.id.toString()}))));return t(o),i.countryCode.options=o,M(A().cloneDeep(i)),null===l||void 0===l?void 0:l.countries}catch(l){console.error(l)}finally{s(!1)}})(),H()}),[]);const H=async()=>{try{const t=await q.getTax();var e;if((null===t||void 0===t?void 0:t.statusCode)===T.B.SUCCESS)console.log("response data----\x3e ",t.data),null===t||void 0===t||null===(e=t.data)||void 0===e||e.forEach((e=>{e.created_at=e.created_at?F()(e.created_at).format("DD-MM-YYYY HH:mm:ss"):null,e.updated_at=e.updated_at?F()(e.updated_at).format("DD-MM-YYYY HH:mm:ss"):null})),n(t.data),z()}catch(t){x.W.show(t||"Something Went Wrong",N.a.ERROR)}},P=async e=>{p(e),G(e),r(!0)},O=e=>{j(!1)},G=t=>{C.countryCode.options=e,C.countryCode.value=t.countryCode,C.taxType.value=t.taxType,C.taxFieldName.value=t.taxFieldName,C.taxPercentage.value=Number(t.taxPercentage)},B=e=>{S({displayToggle:!1,title:"Delete",message:"Are you sure you want to ".concat(null!==e&&void 0!==e&&e.isactive||null!==e&&void 0!==e&&e.is_active||null!==e&&void 0!==e&&e.isActive?"deactivate":"activate"," this record?"),acceptFunction:()=>V(e),rejectFunction:O}),j(!0)},V=e=>{s(!0),q.activatedeactivateTax({id:e.id,isActive:0==e.isActive?1:0,loggedInUserId:U}).then((()=>{s(!1),H(),j(!1),x.W.show("Tax record ".concat(null!==e&&void 0!==e&&e.isActive?"deactivated":"activated"," successfully"),N.a.SUCCESS)})).catch((e=>(s(!1),!1)))},z=()=>{r(!1),M(A().cloneDeep(i))};return d?(0,I.jsx)(g.a,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,I.jsx)(w.Q,{label:"Add New Tax",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{p(null),r(!0)}})}),(0,I.jsxs)("p",{className:"m-0",children:[(0,I.jsx)(D.A,{data:o,column:Y,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Tax"}),y?(0,I.jsx)(E.A,{actionPopupToggle:b,onCloseFunction:O}):null]}),c?(0,I.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,I.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,I.jsxs)("div",{className:"popup-header",children:[(0,I.jsxs)("div",{className:"popup-close",onClick:()=>{z()},children:[(0,I.jsx)("i",{className:"pi pi-angle-left"}),(0,I.jsxs)("h4",{className:"popup-heading",children:[u?"Update":"Add New"," Tax"]})]}),(0,I.jsx)("div",{className:"popup-right-close",onClick:()=>{z()},children:"\xd7"})]}),(0,I.jsx)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:(0,I.jsx)(R.A,{form:A().cloneDeep(C),formUpdateEvent:async e=>{const t=(0,l.A)({},e);M(t)},isFormValidFlag:m})}),(0,I.jsx)("div",{className:"popup-lower-btn",children:(0,I.jsx)(w.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async e=>{var t,i,l,a;e.preventDefault();const o={countryCode:null===C||void 0===C||null===(t=C.countryCode)||void 0===t?void 0:t.value,taxType:null===C||void 0===C||null===(i=C.taxType)||void 0===i?void 0:i.value,taxFieldName:null===C||void 0===C||null===(l=C.taxFieldName)||void 0===l?void 0:l.value,taxPercentage:null===C||void 0===C||null===(a=C.taxPercentage)||void 0===a?void 0:a.value,isActive:1,updatedBy:U};u&&null!==u&&void 0!==u&&u.id&&(o.id=u.id);try{console.log("we reached there",o);const e=await q.createTax(o);(null===e||void 0===e?void 0:e.statusCode)!==T.B.CREATED&&(null===e||void 0===e?void 0:e.statusCode)!==T.B.SUCCESS||(z(),H(),x.W.show(null===e||void 0===e?void 0:e.message,N.a.SUCCESS))}catch(n){x.W.show(n||"Something Went Wrong",N.a.ERROR)}}})})]})}):null]})},ge=()=>{const[e,t]=(0,a.useState)([]),[i,l]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[N,b]=(0,a.useState)([]),[S,T]=(0,a.useState)([]),[w,D]=(0,a.useState)([]),[E,R]=(0,a.useState)([]),[M,F]=(0,a.useState)([]),[W,k]=(0,a.useState)([]),[H,G]=(0,a.useState)([]),[Q,J]=(0,a.useState)([]),[te,le]=(0,a.useState)([]),[oe,de]=(0,a.useState)([]),[ce,ue]=(0,a.useState)(!0),[pe,ve]=(0,a.useState)(!1),[he,ge]=(0,a.useState)(0),[fe,xe]=(0,a.useState)(0),[Ne,je]=(0,a.useState)([]),[be,Ae]=(0,a.useState)(!1),[Se,Te]=(0,a.useState)(!1),[_e,Ce]=(0,a.useState)(!1),[we,De]=(0,a.useState)([]),Ee=(new _.A).get("userInfo");null===Ee||void 0===Ee||Ee.userId;new o.F,new n.W,new d._,new C,new r,new u,new p,new v.m,new m.r,new h.d;(0,a.useEffect)((()=>{}),[he,Se,_e,pe]);const[Re,Me]=(0,a.useState)(),Fe={name:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},code:{inputType:"inputtext",label:"Code",value:null,validation:{required:!0},fieldWidth:"col-md-6"},language:{inputType:"inputtext",label:"Language",value:null,validation:{required:!0},fieldWidth:"col-md-6"},phoneCode:{inputType:"inputtext",label:"Phone Code",value:null,validation:{required:!0},fieldWidth:"col-md-6"}},We={companyName:{inputType:"inputtext",label:"Company Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},Website:{inputType:"inputtext",label:"Website",value:null,validation:{required:!0},fieldWidth:"col-md-6"},CINNO:{inputType:"inputtext",label:"CINNO",value:null,validation:{required:!0},fieldWidth:"col-md-6"},IECode:{inputType:"inputtext",label:"IECode",value:null,validation:{required:!0},fieldWidth:"col-md-6"},Email:{inputType:"inputtext",label:"Email",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},Ie={companyName:{inputType:"singleSelect",label:"Company",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},state_name:{inputType:"singleSelect",label:"State",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},address1:{inputType:"inputtext",label:"Address 1",value:null,validation:{required:!0},fieldWidth:"col-md-4"},address2:{inputType:"inputtext",label:"Address 2",value:null,validation:{required:!1},fieldWidth:"col-md-4"},address3:{inputType:"inputtext",label:"Address 3",value:null,validation:{required:!1},fieldWidth:"col-md-4"},pin:{inputType:"inputtext",label:"PIN",value:null,validation:{required:!1},fieldWidth:"col-md-4"},PAN:{inputType:"inputtext",label:"PAN",value:null,validation:{required:!0},fieldWidth:"col-md-4"},GST:{inputType:"inputtext",label:"GST",value:null,validation:{required:!0},fieldWidth:"col-md-4"}},[Ue,qe]=(0,a.useState)(Ie),ke={currencyName:{inputType:"inputtext",label:"Currency Name",value:null,validation:{required:!0},fieldWidth:"col-md-12"},currencyDescription:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",row:3}},Ye={companyName:{inputType:"singleSelect",label:"Company",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},account_type:{inputType:"singleSelect",label:"Bank Account Type",options:["Savings","Current"],value:null,validation:{required:!0},fieldWidth:"col-md-6"},bank_name:{inputType:"inputtext",label:"Bank Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},bank_address:{inputType:"inputtext",label:"Bank Address",value:null,validation:{required:!0},fieldWidth:"col-md-6"},account_no:{inputType:"inputtext",label:"Account Number",value:null,validation:{required:!0},fieldWidth:"col-md-6"},ifsc_code:{inputType:"inputtext",label:"IFSC Code",value:null,validation:{required:!0},fieldWidth:"col-md-6"},micr_code:{inputType:"inputtext",label:"MICR Code",value:null,validation:{required:!1},fieldWidth:"col-md-6",rows:3},routing_no_swift_code:{inputType:"inputtext",label:"Swift Code",value:null,validation:{required:!1},fieldWidth:"col-md-6",rows:3},bank_code:{inputType:"inputtext",label:"Bank Code",value:null,validation:{required:!1},fieldWidth:"col-md-6",rows:3}},[He,Pe]=(0,a.useState)(Ye),Oe={industryName:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},industryHead:{inputType:"inputtext",label:"Industry Head",value:null,validation:{required:!0},fieldWidth:"col-md-6"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},Ge={technologyName:{inputType:"inputtext",label:"Technology Name",value:null,validation:{required:!0},fieldWidth:"col-md-12"},description:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},Be={productName:{inputType:"inputtext",label:"Product Name",value:null,validation:{required:!0},fieldWidth:"col-md-12"},productDescription:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},Ve={projectName:{inputType:"inputtext",label:"Name",value:null,validation:{required:!0},fieldWidth:"col-md-12"},projectDescription:{inputType:"inputtextarea",label:"Description",value:null,validation:{required:!1},fieldWidth:"col-md-12",rows:3}},ze={taxType:{inputType:"inputtext",label:"Type",value:null,validation:{required:!0},fieldWidth:"col-md-12"},taxPercentage:{inputType:"inputtext",label:"Percentage",value:null,validation:{required:!0},fieldWidth:"col-md-12"},effectiveDate:{inputType:"singleDatePicker",label:"Effective Date",value:null,validation:{required:!0},fieldWidth:"col-md-12"}},Le={country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},state_name:{inputType:"inputtext",label:"State",value:null,validation:{required:!0},fieldWidth:"col-md-4"},state_code:{inputType:"inputtext",label:"State Code",value:null,validation:{required:!0},fieldWidth:"col-md-4"}},[Qe,Ke]=(0,a.useState)(Le),Je={industry_name:{inputType:"singleSelect",label:"Industry",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},name:{inputType:"inputtext",label:"Client Name",value:null,validation:{required:!0},fieldWidth:"col-md-4"},alias:{inputType:"inputtext",label:"Alias",value:null,validation:{required:!1},fieldWidth:"col-md-4"},pan_no:{inputType:"inputtext",label:"PAN Number",value:null,validation:{required:!1},fieldWidth:"col-md-4"},polestar_bank_account_number:{inputType:"singleSelect",label:"Polestar Bank Account Number",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},gstn:{inputType:"inputtext",label:"GSTN",value:null,validation:{required:!1},fieldWidth:"col-md-4"},servicing_type:{inputType:"singleSelect",label:"Servicing Type",options:["Domestic","International"],value:null,validation:{required:!1},fieldWidth:"col-md-4"},client_category:{inputType:"inputtext",label:"Client Category",value:null,validation:{required:!1},fieldWidth:"col-md-4"},msa_start_date:{inputType:"singleDatePicker",label:"MSA Start Date",value:null,validation:{required:!1},fieldWidth:"col-md-4"},msa_end_date:{inputType:"singleDatePicker",label:"MSA End Date",value:null,validation:{required:!1},fieldWidth:"col-md-4 col-offset-right-8"},is_msa_missing:{inputType:"inputSwitch",label:"MSA Missing?",value:!1,validation:{required:!1},fieldWidth:"col-md-3  mg-12-t"},msa_flag:{inputType:"inputSwitch",label:"Is NDA",value:!1,validation:{required:!1},fieldWidth:"col-md-3  mg-12-t"},non_solicitation_clause:{inputType:"inputSwitch",label:"Non Solicitation Clause",value:!1,validation:{required:!1},fieldWidth:"col-md-3  mg-12-t"},use_logo_permission:{inputType:"inputSwitch",label:"Use Logo Permission",value:!1,validation:{required:!1},fieldWidth:"col-md-3  mg-12-t"}},[Xe,Ze]=(0,a.useState)(Je),$e={client_name:{inputType:"singleSelect",label:"Client",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},address1:{inputType:"inputtext",label:"Address 1",value:null,validation:{required:!0},fieldWidth:"col-md-6"},address2:{inputType:"inputtext",label:"Address 2",value:null,validation:{required:!1},fieldWidth:"col-md-6"},address3:{inputType:"inputtext",label:"Address 3",value:null,validation:{required:!1},fieldWidth:"col-md-6"},pin:{inputType:"inputtext",label:"PIN",value:null,validation:{required:!1},fieldWidth:"col-md-6"},country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-6"},state_name:{inputType:"singleSelect",label:"State",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[et,tt]=(0,a.useState)($e),it={client_name:{inputType:"singleSelect",label:"Client",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},client_ship_to_address1:{inputType:"inputtext",label:"Address 1",value:null,validation:{required:!0},fieldWidth:"col-md-6"},client_ship_to_address2:{inputType:"inputtext",label:"Address 2",value:null,validation:{required:!1},fieldWidth:"col-md-6"},client_ship_to_address3:{inputType:"inputtext",label:"Address 3",value:null,validation:{required:!1},fieldWidth:"col-md-6"},client_ship_to_pin:{inputType:"inputtext",label:"PIN",value:null,validation:{required:!1},fieldWidth:"col-md-6"},client_ship_to_country_name:{inputType:"singleSelect",label:"Country",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-6"},client_ship_to_state_name:{inputType:"singleSelect",label:"State",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-6"},client_ship_to_gstn:{inputType:"inputtext",label:"GSTN",value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[lt,at]=(0,a.useState)(it),ot={salutation:{inputType:"singleSelect",label:"Salutation",options:["Mr.","Mrs.","M/S"],value:null,validation:{required:!1},fieldWidth:"col-md-6"},first_name:{inputType:"inputtext",label:"First Name",value:null,validation:{required:!0},fieldWidth:"col-md-6"},last_name:{inputType:"inputtext",label:"Last Name",value:null,validation:{required:!1},fieldWidth:"col-md-6"},email:{inputType:"inputtext",label:"Email",value:null,validation:{required:!1},fieldWidth:"col-md-6"},phone:{inputType:"inputtext",label:"Phone Number",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-6"}},[nt,dt]=(0,a.useState)(A().cloneDeep(Fe)),[st,ct]=(0,a.useState)({}),[rt,ut]=(0,a.useState)({}),[pt,vt]=(0,a.useState)(A().cloneDeep(We)),[mt,ht]=(0,a.useState)(A().cloneDeep(Ue)),[yt,gt]=(0,a.useState)(A().cloneDeep(ke)),[ft,xt]=(0,a.useState)(A().cloneDeep(He)),[Nt,jt]=(0,a.useState)(A().cloneDeep(Oe)),[bt,At]=(0,a.useState)(A().cloneDeep(Ge)),[St,Tt]=(0,a.useState)(A().cloneDeep(Be)),[_t,Ct]=(0,a.useState)(A().cloneDeep(Ve)),[wt,Dt]=(0,a.useState)(A().cloneDeep(ze)),[Et,Rt]=(0,a.useState)(A().cloneDeep(Qe)),[Mt,Ft]=(0,a.useState)(A().cloneDeep(Xe)),[Wt,It]=(0,a.useState)(A().cloneDeep(et)),[Ut,qt]=(0,a.useState)(A().cloneDeep(lt)),[kt,Yt]=(0,a.useState)(A().cloneDeep(ot));return be?(0,I.jsx)(g.a,{}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(y.J,{activeIndex:he,onTabChange:e=>{ge(e.index)},className:j.A["main-tab-screen"],panelContainerClassName:j.A["panel-tabs"],children:[(0,I.jsx)(y.K,{header:"Financial Year",children:(0,I.jsx)(re,{})}),(0,I.jsx)(y.K,{header:"Currency",children:(0,I.jsx)(me,{})}),(0,I.jsx)(y.K,{header:"Country",children:(0,I.jsx)(U,{})}),(0,I.jsx)(y.K,{header:"States",children:(0,I.jsx)(q,{})}),(0,I.jsx)(y.K,{header:"Regions",children:(0,I.jsx)(Y,{})}),(0,I.jsx)(y.K,{header:"Company",children:(0,I.jsx)(P,{})}),(0,I.jsx)(y.K,{header:"Company Location",children:(0,I.jsx)(O,{})}),(0,I.jsx)(y.K,{header:"Region Head",children:(0,I.jsx)(se,{})}),(0,I.jsx)(y.K,{header:"Bank Accounts",children:(0,I.jsx)(B,{})}),(0,I.jsx)(y.K,{header:"Sub-Industry",children:(0,I.jsx)(V,{})}),(0,I.jsx)(y.K,{header:"Industry Group",children:(0,I.jsx)(z,{})}),(0,I.jsx)(y.K,{header:"Industry Head",children:(0,I.jsx)(L,{})}),(0,I.jsx)(y.K,{header:"Sales Manager",children:(0,I.jsx)(K,{})}),(0,I.jsx)(y.K,{header:"Account Manager",children:(0,I.jsx)(X,{})}),(0,I.jsx)(y.K,{header:"Technology Group",children:(0,I.jsx)(Z,{})}),(0,I.jsx)(y.K,{header:"Technology Sub-Group",children:(0,I.jsx)($,{})}),(0,I.jsx)(y.K,{header:"Technology",children:(0,I.jsx)(ee,{})}),(0,I.jsx)(y.K,{header:"OEM",children:(0,I.jsx)(ie,{})}),(0,I.jsx)(y.K,{header:"Polestar Product Sales",children:(0,I.jsx)(ae,{})}),(0,I.jsx)(y.K,{header:"Project/Service Master ",children:(0,I.jsx)(ne,{})}),(0,I.jsx)(y.K,{header:"Tax",children:(0,I.jsx)(ye,{})})]})})}},8120:(e,t,i)=>{i.d(t,{A:()=>o});var l=i(1574),a=i(9496);class o{constructor(){this.getCurrencyMasterData=async()=>{try{const e=await a.S.postRequest(l.R.GET_CURRENCY_MASTER);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createCurrencyMasterData=async e=>{try{const t=await a.S.postRequest(null!==e&&void 0!==e&&e.id?l.R.UPDATE_CURRENCY_MASTER:l.R.CREATE_CURRENCY_MASTER,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activateDeactivateCurrencyMaster=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await a.S.postRequest(l.R.TOGGLE_CURRENCY_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}},this.getCurrencyHistoryData=async e=>{try{const t=await a.S.postRequest(l.R.CURRENCY_HISTORY_DATA,e);return null===t||void 0===t?void 0:t.data}catch(t){return{}}}}}},2862:(e,t,i)=>{i.d(t,{n:()=>o});var l=i(1574),a=i(9496);class o{constructor(){this.getTax=async()=>{try{const e=await a.S.getRequest(l.R.GET_TAXES);return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createTax=async e=>{try{const t=await a.S.postRequest(null!==e&&void 0!==e&&e.id?l.R.UPDATE_TAXES:l.R.CREATE_TAXES,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.updateTax=async e=>{try{const t=await a.S.postRequest(l.R.UPDATE_TAXES,e);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.activatedeactivateTax=async e=>{try{const t={id:e.id,isActive:e.isActive,updatedBy:null===e||void 0===e?void 0:e.loggedInUserId},i=await a.S.postRequest(l.R.TOGGLE_TAX_STATUS,t);return null===i||void 0===i?void 0:i.data}catch(t){return{}}},this.formatDate=async e=>{try{const t=new Date(e),i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(i,"/").concat(l,"/").concat(a)}catch(t){return t.message}}}}},4059:(e,t,i)=>{i.d(t,{A:()=>l});const l={"main-tab-screen":"Master_main-tab-screen__Dxyc9","panel-tabs":"Master_panel-tabs__P9kgD","addition-field-header":"Master_addition-field-header__lgZxL","addition-field-buttons":"Master_addition-field-buttons__vvGO2","aggregator-dashboard":"Master_aggregator-dashboard__S8oem","upload-wrapper":"Master_upload-wrapper__cBKsz","upload-file-section":"Master_upload-file-section__Ehlqw","upload-file":"Master_upload-file__Ql6S+","empty-upload":"Master_empty-upload__WXF8N","chip-tm":"Master_chip-tm__eDPC0","cstm-chip":"Master_cstm-chip__oFjln","p-chip":"Master_p-chip__ciUeU","p-chip-text":"Master_p-chip-text__CSetj","available-card-box":"Master_available-card-box__dfNEf","available-card-details":"Master_available-card-details__J1e6s","detail-transcation-btn":"Master_detail-transcation-btn__yyiA2","available-card-img":"Master_available-card-img__9cq1u","coupon-card":"Master_coupon-card__IKXsC",textWithImg:"Master_textWithImg__hqjjN",row:"Master_row__zb1mZ","col-lg-3":"Master_col-lg-3__iaADj","available-card":"Master_available-card__1xFrM","reedemed-amount-card":"Master_reedemed-amount-card__Ggkyv","credit-amount-card":"Master_credit-amount-card__-s-n8","last-recharge-card":"Master_last-recharge-card__4Q23w","wallet-row":"Master_wallet-row__n4qOn","wallet-card":"Master_wallet-card__HE0Ey","card-logo":"Master_card-logo__08oWn","food-wallet-card":"Master_food-wallet-card__mimFN","fuel-wallet-card":"Master_fuel-wallet-card__9c4iP","general-wallet-card":"Master_general-wallet-card__y84ZC","food-wallet-details":"Master_food-wallet-details__SclZy","fuel-wallet-details":"Master_fuel-wallet-details__3YnS7","general-wallet-details":"Master_general-wallet-details__H5NCF","card-logo-circle":"Master_card-logo-circle__xieTb","wallet-details":"Master_wallet-details__UvP9m","aggregator-analytics-table":"Master_aggregator-analytics-table__--5gs","text-success":"Master_text-success__owTwB","text-danger":"Master_text-danger__P+BdB","no-record-div":"Master_no-record-div__0vaz3","col-lg-2":"Master_col-lg-2__EiXiD",actionMenuBtn:"Master_actionMenuBtn__PQN4G",popup_ActionMenu:"Master_popup_ActionMenu__ZM9y9","sm-popup-content":"Master_sm-popup-content__pCwvo","btn-main":"Master_btn-main__VOTXX","add-recharge-content":"Master_add-recharge-content__SLPcS","add-recharge-form":"Master_add-recharge-form__PVvjw",formLabel:"Master_formLabel__cBDaX","p-inputtextarea":"Master_p-inputtextarea__z8aQc","form-container":"Master_form-container__jXenY","form-content":"Master_form-content__K6m9z","popup-lower-btn":"Master_popup-lower-btn__yf55U","popup-lower-left-btn":"Master_popup-lower-left-btn__StxRQ","popup-lower":"Master_popup-lower__s0pTK","popup-lower-right-btn":"Master_popup-lower-right-btn__580b9"}}}]);
//# sourceMappingURL=300.dd5c00bc.chunk.js.map