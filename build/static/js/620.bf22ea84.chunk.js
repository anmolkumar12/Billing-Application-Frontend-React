"use strict";(self.webpackChunkBilling_Application_Frontend=self.webpackChunkBilling_Application_Frontend||[]).push([[620],{1620:(t,e,o)=>{o.r(e),o.d(e,{default:()=>j});var i=o(9379),a=o(5043),n=o(4862),l=o(9559),d=o(3002),r=o(7873),c=o(7416),s=o(5727),u=o(1356),v=o(3536),p=o.n(v),m=o(8992),_=o(8945),y=o(2235),S=o(6530),h=o(7094),T=o(5318),A=o(8368),R=o(3159),f=o(4635),g=o(1284),C=o(6124),E=o(7810),x=o(2862),b=o(7992),w=o(9642),N=o(2052),D=o(788),I=o(2018),O=o(9441),M=o(1574),P=o(9496);class U{constructor(){this.getCreditNoteData=async()=>{try{const t=await P.S.postRequest(M.R.GET_CREDIT_NOTE);return null===t||void 0===t?void 0:t.data}catch(t){return console.error("Error fetching credit note:",t),{}}},this.createCreditNote=async t=>{try{const e=await P.S.postRequest(null!==t&&void 0!==t&&t.id?M.R.UPDATE_CREDIT_NOTE:M.R.CREATE_CREDIT_NOTE,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error creating credit note:",e),e}},this.updateCreditNote=async t=>{try{const e=await P.S.postRequest(M.R.UPDATE_CREDIT_NOTE,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error updating credit note:",e),e}},this.activateDeactivateCreditNote=async t=>{try{const e={id:t.id,isActive:t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await P.S.postRequest(M.R.TOGGLE_CREDIT_NOTE_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return console.error("Error activating/deactivating credit note:",e),{}}},this.UpdatePDFCreditNote=async t=>{try{const e=await P.S.postRequest(M.R.POST_GENERATE_CREDIT_NOTE_PDF,{invoice_number:t});return null===e||void 0===e?void 0:e.data}catch(e){return{}}}}}var q=o(579);const j=()=>{const t={client_name:{inputType:"singleSelect",label:"Client",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},contract_name:{inputType:"singleSelect",label:"Contract",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},invoice_number:{inputType:"singleSelect",label:"Invoice Number",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},po_number:{inputType:"inputtext",label:"PO Number",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},po_amount:{inputType:"inputNumber",label:"PO Amount",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},remain_po_amount:{inputType:"inputNumber",label:"Remain PO Amount",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},invoice_date:{inputType:"singleDatePicker",label:"Credit Date",value:null,validation:{required:!0},min:null,fieldWidth:"col-md-4"},clientBillTo:{inputType:"multiSelect",label:"Client Bill Address",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},clientShipAddress:{inputType:"multiSelect",label:"Client Ship Address",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},clientContact:{inputType:"singleSelect",label:"Contact",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},company_name:{inputType:"inputtext",label:"Company Name",value:null,disable:!0,validation:{required:!1},fieldWidth:"col-md-4"},bill_from:{inputType:"singleSelect",label:"Bill From",options:[],value:null,validation:{required:!0},fieldWidth:"col-md-4"},projectService:{inputType:"singleSelect",label:"Service Type",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},tax_type:{inputType:"singleSelect",label:"Tax Type",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},tax_code:{inputType:"multiSelect",label:"Tax Code",options:[],value:null,validation:{required:!1},fieldWidth:"col-md-4"},invoice_amount:{inputType:"inputtext",label:"Credit Amount",value:null,validation:{required:!0},fieldWidth:"col-md-4"},note_one:{inputType:"inputtextarea",label:"Note 1",value:null,validation:{required:!1},fieldWidth:"col-md-6",rows:3},note_two:{inputType:"inputtextarea",label:"Note 2",value:null,validation:{required:!1},fieldWidth:"col-md-6",rows:3}},e={start_date:{inputType:"singleDatePicker",label:"Start Date",value:null,validation:{required:!0},fieldWidth:"col-md-6"},end_date:{inputType:"singleDatePicker",label:"End Date",value:null,validation:{required:!0},fieldWidth:"col-md-6"}},[o,v]=(0,a.useState)([]),[M,P]=(0,a.useState)([]),[j,G]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[Y,W]=(0,a.useState)(!1),[L,k]=(0,a.useState)(!0),[H,V]=(0,a.useState)(!1),[z,X]=(0,a.useState)([]),[J,Q]=(0,a.useState)(),[$,K]=(0,a.useState)([]),[Z,tt]=(0,a.useState)([]),[et,ot]=(0,a.useState)([]),[it,at]=(0,a.useState)([]),[nt,lt]=(0,a.useState)([]),[dt,rt]=(0,a.useState)(""),[ct,st]=(0,a.useState)(""),[ut,vt]=(0,a.useState)(!1),[pt,mt]=(0,a.useState)(!1),[_t,yt]=(0,a.useState)([]),[St,ht]=(0,a.useState)([]),[Tt,At]=(0,a.useState)([]),[Rt,ft]=(0,a.useState)([]),[gt,Ct]=(0,a.useState)([]),[Et,xt]=(0,a.useState)(!1),[bt,wt]=(0,a.useState)([]),[Nt,Dt]=(0,a.useState)([]),[It,Ot]=(0,a.useState)([]),[Mt,Pt]=(0,a.useState)([]),[Ut,qt]=(0,a.useState)([]),[jt,Gt]=(0,a.useState)([]),[Bt,Ft]=(0,a.useState)({}),[Yt,Wt]=(0,a.useState)([{id:Date.now(),description:"",sacCode:"",amount:0}]),[Lt,kt]=(0,a.useState)([]),[Ht,Vt]=(0,a.useState)([]),[zt,Xt]=(0,a.useState)([]),[Jt,Qt]=(0,a.useState)([]),[$t,Kt]=(0,a.useState)(t),[Zt,te]=(0,a.useState)(p().cloneDeep($t)),[ee,oe]=(0,a.useState)(e),[ie,ae]=(0,a.useState)(p().cloneDeep(ee)),ne=new T.F,le=(new R.d,new O.p),de=(new f.R,new g._,new U),re=(new s.A).get("userInfo"),ce=null===re||void 0===re?void 0:re.userId;new c.m,new S.r,new A.W,new C.U;const se=new E.H,ue=new x.n,ve=[{label:"Action",fieldName:"action",textAlign:"left",frozen:!0,sort:!1,filter:!1,body:t=>(0,q.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"20px"},children:[(0,q.jsx)("span",{className:"pi pi-pencil",style:{cursor:"pointer"},title:"Update",onClick:()=>fe(t)}),(0,q.jsx)("span",{className:"pi pi-download",style:{cursor:"pointer"},title:"Download Credit Note",onClick:()=>me(t)})]})},{label:"Credit Note Name",fieldName:"invoice_name",textAlign:"left",sort:!0,filter:!0,placeholder:"Credit Name",body:t=>(0,q.jsx)(pe,{id:"clientTooltip-".concat(t.id),content:t.invoice_name})},{label:"Client",fieldName:"client_name",textAlign:"left",sort:!0,filter:!0,placeholder:"Client",body:t=>(0,q.jsx)(pe,{id:"clientTooltip-".concat(t.id),content:t.client_name})},{label:"Contract",fieldName:"contract_name",textAlign:"left",sort:!0,filter:!0,placeholder:"Contract",body:t=>(0,q.jsx)(pe,{id:"contractTooltip-".concat(t.id),content:t.contract_name})},{label:"PO Number",fieldName:"po_number",textAlign:"left",sort:!0,filter:!0,placeholder:"PO Number",body:t=>(0,q.jsx)(pe,{id:"poNumberTooltip-".concat(t.id),content:t.po_number})},{label:"PO Amount",fieldName:"po_amount",textAlign:"left",sort:!0,filter:!0,placeholder:"PO Amount",body:t=>(0,q.jsx)(pe,{id:"poAmountTooltip-".concat(t.id),content:t.po_amount})},{label:"Remain PO Amount",fieldName:"remain_po_amount",textAlign:"left",sort:!0,filter:!0,placeholder:"Remain PO Amount",body:t=>(0,q.jsx)(pe,{id:"remainPoAmountTooltip-".concat(t.id),content:t.remain_po_amount})},{label:"Credit Date",fieldName:"invoice_date",textAlign:"left",sort:!0,filter:!0,placeholder:"Credit Date",body:t=>(0,q.jsx)(pe,{id:"invoiceDateTooltip-".concat(t.id),content:new Date(t.invoice_date).toLocaleDateString()})},{label:"Invoice Number",fieldName:"invoice_number",textAlign:"left",sort:!0,filter:!0,placeholder:"Invoice Number",body:t=>(0,q.jsx)(pe,{id:"contractTooltip-".concat(t.id),content:t.invoice_number||"NA"})},{label:"Bill To",fieldName:"clientBillTo",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:t=>(0,q.jsx)("span",{children:null===t||void 0===t?void 0:t.clientBillTo_name})},{label:"Shipping Address",fieldName:"clientShipAddress",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:t=>(0,q.jsx)("span",{children:null===t||void 0===t?void 0:t.clientShipAddress_name})},{label:"Contact",fieldName:"client_contact",textAlign:"left",sort:!0,filter:!0,placeholder:"Contact",body:t=>(0,q.jsx)(pe,{id:"clientContactTooltip-".concat(t.id),content:t.clientContact_name})},{label:"Bill From",fieldName:"bill_from",textAlign:"left",sort:!0,filter:!0,placeholder:"Bill From",body:t=>(0,q.jsx)(pe,{id:"billFromTooltip-".concat(t.id),content:t.bill_from})},{label:"Project Service",fieldName:"projectService",textAlign:"left",frozen:!1,sort:!0,filter:!0,body:t=>(0,q.jsx)("span",{children:null===t||void 0===t?void 0:t.projectService_names})},{label:"Tax Code",fieldName:"tax_code",textAlign:"left",sort:!0,filter:!0,placeholder:"Tax Code",body:t=>(0,q.jsx)(pe,{id:"taxCodeTooltip-".concat(t.id),content:t.tax_code})},{label:"Credit Amount",fieldName:"invoice_amount",textAlign:"left",sort:!0,filter:!0,placeholder:"Credit Amount",body:t=>(0,q.jsx)(pe,{id:"invoiceAmountTooltip-".concat(t.id),content:t.invoice_amount})},{label:"Total Amount",fieldName:"total_amount",textAlign:"left",sort:!0,filter:!0,placeholder:"Total Amount",body:t=>(0,q.jsx)(pe,{id:"invoiceAmountTooltip-".concat(t.id),content:t.total_amount})},{label:"GST Total",fieldName:"gst_total",textAlign:"left",sort:!0,filter:!0,placeholder:"GST Total",body:t=>(0,q.jsx)(pe,{id:"invoiceAmountTooltip-".concat(t.id),content:t.gst_total})},{label:"Final Amount",fieldName:"final_amount",textAlign:"left",sort:!0,filter:!0,placeholder:"Final Amount",body:t=>(0,q.jsx)(pe,{id:"invoiceAmountTooltip-".concat(t.id),content:t.final_amount})},{label:"Note 1",fieldName:"note_one",textAlign:"left",sort:!1,filter:!0,placeholder:"Note 1",body:t=>(0,q.jsx)(pe,{id:"noteOneTooltip-".concat(t.id),content:t.note_one})},{label:"Note 2",fieldName:"note_two",textAlign:"left",sort:!1,filter:!0,placeholder:"Note 2",body:t=>(0,q.jsx)(pe,{id:"noteTwoTooltip-".concat(t.id),content:t.note_two})}],pe=t=>{let{id:e,content:o}=t;return(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{id:e,children:o}),(0,q.jsx)(u.m,{target:"#".concat(e),position:"top"})]})};(0,a.useEffect)((()=>{0==B&&0==H&&(async()=>{ye(),_e(),Se(),he(),Ae(),Re(),Te()})()}),[B,H]),(0,a.useEffect)((()=>{var t;if(null===zt||void 0===zt||!zt.po_creation_date)return;console.log("Start date changed:",null===Zt||void 0===Zt||null===(t=Zt.invoice_date)||void 0===t?void 0:t.value,zt);const e=new Date(zt.po_creation_date);isNaN(e.getTime())?console.error("Invalid po_creation_date:",zt.po_creation_date):te((t=>(0,i.A)((0,i.A)({},t),{},{invoice_date:(0,i.A)((0,i.A)({},t.invoice_date),{},{min:e})})))}),[zt]);const me=async t=>{de.UpdatePDFCreditNote(null===t||void 0===t?void 0:t.invoice_name).then((async e=>{if((null===e||void 0===e?void 0:e.statusCode)===y.B.CREATED){m.W.show(null===e||void 0===e?void 0:e.message,_.a.SUCCESS);const o="".concat("https://ims.polestarllp.com/webapi","/creditnotes/").concat(t.invoice_name,".pdf");console.log("Downloading PDF from:",o),fetch(o).then((t=>t.blob())).then((e=>{const o=window.URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.setAttribute("download","".concat(t.invoice_name,".pdf")),document.body.appendChild(i),i.click(),i.remove()})).catch((t=>{console.error("Error downloading PDF:",t),m.W.show("Error downloading PDF",_.a.ERROR)}))}})).catch((t=>{console.error("Error downloading PDF:",t),m.W.show(t.message||"Error downloading PDF",_.a.ERROR)}))},_e=async()=>{G(!0);try{const t=await le.getInvoicesData();Qt(t.invoices)}catch(t){console.error(t)}finally{G(!1)}},ye=async()=>{G(!0);try{const t=await de.getCreditNoteData();t.invoices.forEach((t=>t.invoiceInfo=JSON.parse(t.invoiceInfo)));const e=t.invoices.map((t=>(0,i.A)((0,i.A)({},t),{},{invoiceInfo:t.invoiceInfo.map((t=>(0,i.A)((0,i.A)({},t),{},{taxBreakdown:t.taxBreakdown?JSON.parse(t.taxBreakdown):[]})))})));Gt(e)}catch(t){console.error(t)}finally{G(!1)}},Se=async()=>{try{const t=await se.getPoContractsData();wt(null===t||void 0===t?void 0:t.poContracts)}catch(t){console.error(t)}},he=async()=>{try{const t=await se.getPoContractConfiguration();if(!t||!t.data)throw new Error("Invalid response from API");const e=Array.isArray(t.data)?t.data:[];console.log("Response Data:",e);const o=Array.from(new Map(e.map((t=>[t.client_id,t]))).values());return Ot(o),Dt(o.map((t=>t.client_name||"Unknown Client"))),o}catch(t){console.error(t)}},Te=async()=>{G(!0);try{var t;const e=await se.getPOContractMasterConfigData();Ft(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}catch(e){console.error(e)}finally{G(!1)}},Ae=async()=>{try{const t=await ue.getTax();(null===t||void 0===t?void 0:t.statusCode)===y.B.SUCCESS&&(console.log("getTaxMaster ",t.data),Pt(t.data),Ee())}catch(t){m.W.show(t||"Something Went Wrong",_.a.ERROR)}},Re=async()=>{try{const t=await ne.getCompanyLocationMaster();return console.log("setCompanyLocationMaster",null===t||void 0===t?void 0:t.locations),qt(null===t||void 0===t?void 0:t.locations),null===t||void 0===t?void 0:t.locations}catch(t){console.error(t)}},fe=async t=>{await Se(),await he(),await Ae(),await Re(),await Q(t),await Ce(t),await F(!0),await W(!0)},ge=t=>{V(!1)},Ce=t=>{try{$t.client_name.options=Nt,$t.client_name.disable=!0,$t.client_name.options=Nt;const a=Mt.map((t=>null===t||void 0===t?void 0:t.taxType));$t.tax_type.options=a;const n=It.find((e=>e.client_name==(null===t||void 0===t?void 0:t.client_name)));var e,o,i;if(n)$t.clientBillTo.options=null===(e=n.clientBill)||void 0===e?void 0:e.filter((t=>t.id)).map(((t,e)=>({label:we(t.address1,t.address2,t.address3),value:t.id.toString(),isDefault:0==e?1:0}))),console.log("Updating client form fields:",$t,t),$t.clientBillTo.value="string"===typeof(null===t||void 0===t?void 0:t.clientBillTo)?t.clientBillTo.split(",").map((t=>t.trim())):[],$t.clientShipAddress.options=null===(o=n.clientShip)||void 0===o?void 0:o.filter((t=>t.id)).map(((t,e)=>({label:we(t.address1,t.address2,t.address3),value:t.id.toString(),isDefault:0==e?1:0}))),$t.clientShipAddress.value="string"===typeof(null===t||void 0===t?void 0:t.clientShipAddress)?t.clientShipAddress.split(",").map((t=>t.trim())):[],$t.clientContact.options=Array.isArray(null===n||void 0===n?void 0:n.contacts)?null===(i=n.contacts)||void 0===i?void 0:i.filter((t=>t.id)).map(((t,e)=>({label:t.name,value:t.id.toString(),isDefault:0==e?1:0}))):[],$t.clientContact.value=null!==t&&void 0!==t&&t.clientContact?null===t||void 0===t?void 0:t.clientContact:[],$t.company_name.value=null===n||void 0===n?void 0:n.companyInfo.companyName;const l=null===Ut||void 0===Ut?void 0:Ut.filter((t=>(null===t||void 0===t?void 0:t.companyName)==$t.company_name.value)).map((t=>({label:we(null===t||void 0===t?void 0:t.address1,null===t||void 0===t?void 0:t.address2,null===t||void 0===t?void 0:t.address3),isDefault:null===t||void 0===t?void 0:t.isDefaultAddress})));$t.projectService.options=Array.isArray(null===Bt||void 0===Bt?void 0:Bt.projectService)?null===Bt||void 0===Bt?void 0:Bt.projectService.map((t=>({label:null===t||void 0===t?void 0:t.name,value:t.id.toString()}))):[],$t.invoice_number.options=null===Jt||void 0===Jt?void 0:Jt.filter((e=>e.contract_name==(null===t||void 0===t?void 0:t.contract_name))).map(((t,e)=>({label:t.invoice_name,value:t.id.toString()}))),$t.bill_from.options=(null===l||void 0===l?void 0:l.map((t=>null===t||void 0===t?void 0:t.label)))||[],$t.bill_from.value=null!==t&&void 0!==t&&t.bill_from?null===t||void 0===t?void 0:t.bill_from:"",$t.client_name.value=(null===t||void 0===t?void 0:t.client_name)||"",$t.contract_name.value=(null===t||void 0===t?void 0:t.contract_name)||"",$t.invoice_number.value=(null===t||void 0===t?void 0:t.invoice_number_id)||"",$t.po_number.value=(null===t||void 0===t?void 0:t.po_number)||"",$t.po_amount.value=(null===t||void 0===t?void 0:t.po_amount)||"",$t.remain_po_amount.value=(null===t||void 0===t?void 0:t.remain_po_amount)||"",$t.invoice_date.value=null!==t&&void 0!==t&&t.invoice_date?xe(null===t||void 0===t?void 0:t.invoice_date):null,$t.tax_type.value=(null===t||void 0===t?void 0:t.tax_type)||"",$t.tax_code.value=null!==t&&void 0!==t&&t.tax_code?null===t||void 0===t?void 0:t.tax_code.split(","):[],$t.invoice_amount.value=(null===t||void 0===t?void 0:t.invoice_amount)||"",$t.note_one.value=(null===t||void 0===t?void 0:t.note_one)||"",$t.note_two.value=(null===t||void 0===t?void 0:t.note_two)||"",$t.projectService.value=null!==t&&void 0!==t&&t.projectService?null===t||void 0===t?void 0:t.projectService:"",$t.invoice_amount.disable=!0,$t.contract_name.disable=!0,te(p().cloneDeep($t)),Wt(t.invoiceInfo.map((t=>({description:t.description,sacCode:t.sacCode,amount:t.amount,taxBreakdown:t.taxBreakdown})))),kt(t.invoiceInfo.flatMap((t=>t.taxBreakdown))),console.log("Updated form data:",$t)}catch(a){console.error("Error updating client master form:",a)}},Ee=()=>{F(!1),W(!1),Q({}),Kt(p().cloneDeep(t)),te(p().cloneDeep(t)),xt(!1),ae(p().cloneDeep(e)),at([]),lt([]),st(""),rt(""),Wt([{id:Date.now(),description:"",sacCode:"",amount:0}])},xe=t=>{if(!t)return new Date;const e=new Date(t);if(isNaN(e))return new Date;const o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return new Date(o,i-1,a)},be=t=>{const e=new Date(t),o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(o,"/").concat(i,"/").concat(a)};function we(t,e,o){return[t,e,o].filter((t=>t)).join(", ")}const Ne=async t=>{var e,o,i,a,n,l;const d=p().cloneDeep(t),r=null===(e=d.client_name)||void 0===e?void 0:e.value;if(r){const t=null===bt||void 0===bt?void 0:bt.filter((t=>(null===t||void 0===t?void 0:t.client_name)===r)).map((t=>null===t||void 0===t?void 0:t.po_name)).filter((t=>null!==t&&void 0!==t));d.contract_name.options=t||[]}if((null===(o=d.contract_name)||void 0===o?void 0:o.value)!=(null===Zt||void 0===Zt||null===(i=Zt.contract_name)||void 0===i?void 0:i.value)&&null!==(a=d.contract_name)&&void 0!==a&&a.value){var c;const t=null===bt||void 0===bt||null===(c=bt.filter((t=>(null===t||void 0===t?void 0:t.client_name)===r)))||void 0===c?void 0:c.find((t=>{var e;return(null===t||void 0===t?void 0:t.po_name)==(null===(e=d.contract_name)||void 0===e?void 0:e.value)}));d.po_number.value=null===t||void 0===t?void 0:t.poNumber,d.po_amount.value=null===t||void 0===t?void 0:t.poAmount,d.remain_po_amount.value=null===t||void 0===t?void 0:t.dueAmount,d.company_name.value=null===t||void 0===t?void 0:t.companyName,Xt(t);const e=It.find((t=>t.client_name==d.client_name.value));if(console.log("configData",e,t,Jt),e){var s,u,v,m,_,y,S,h,T;d.invoice_number.options=null===Jt||void 0===Jt?void 0:Jt.filter((e=>e.contract_name==(null===t||void 0===t?void 0:t.po_name))).map(((t,e)=>({label:t.invoice_name,value:t.id.toString()}))),d.clientBillTo.options=null===(s=e.clientBill)||void 0===s?void 0:s.filter((t=>t.id)).map(((e,o)=>{var i;return{label:we(e.address1,e.address2,e.address3),value:e.id.toString(),isDefault:we(e.address1,e.address2,e.address3)==(null===t||void 0===t||null===(i=t.masterNames)||void 0===i?void 0:i.clientBillTo_names)?1:0}})),d.clientBillTo.options=null===(u=e.clientBill)||void 0===u?void 0:u.filter((t=>t.id)).map(((e,o)=>{var i;return{label:we(e.address1,e.address2,e.address3),value:e.id.toString(),isDefault:we(e.address1,e.address2,e.address3)==(null===t||void 0===t||null===(i=t.masterNames)||void 0===i?void 0:i.clientBillTo_names)?1:0}}));const o=null===(v=d.clientBillTo.options)||void 0===v?void 0:v.find((t=>1==t.isDefault));o&&null!==o&&void 0!==o&&o.value?d.clientBillTo.value=[null===o||void 0===o?void 0:o.value.toString()]:d.clientBillTo.value=null,d.clientShipAddress.options=null===(m=e.clientShip)||void 0===m?void 0:m.filter((t=>t.id)).map(((e,o)=>{var i;return{label:we(e.address1,e.address2,e.address3),value:e.id.toString(),isDefault:we(e.address1,e.address2,e.address3)==(null===t||void 0===t||null===(i=t.masterNames)||void 0===i?void 0:i.clientShipAddress_names)?1:0}}));const i=null===(_=d.clientShipAddress)||void 0===_||null===(y=_.options)||void 0===y?void 0:y.find((t=>1==t.isDefault));i&&null!==i&&void 0!==i&&i.value?d.clientShipAddress.value=[null===i||void 0===i?void 0:i.value.toString()]:d.clientShipAddress.value=null,d.clientContact.options=Array.isArray(null===e||void 0===e?void 0:e.contacts)?null===(S=e.contacts)||void 0===S?void 0:S.filter((t=>t.id)).map(((t,e)=>({label:t.name,value:t.id.toString(),isDefault:0==e?1:0}))):[];const a=null===(h=d.clientContact)||void 0===h||null===(T=h.options)||void 0===T?void 0:T.find((t=>1==t.isDefault));if(a&&null!==a&&void 0!==a&&a.value?d.clientContact.value=[null===a||void 0===a?void 0:a.value.toString()]:d.clientContact.value=null,d.company_name.value){var A;const t=null===Ut||void 0===Ut?void 0:Ut.filter((t=>(null===t||void 0===t?void 0:t.companyName)==d.company_name.value)).map((t=>({label:we(null===t||void 0===t?void 0:t.address1,null===t||void 0===t?void 0:t.address2,null===t||void 0===t?void 0:t.address3),isDefault:null===t||void 0===t?void 0:t.isDefaultAddress})));console.log("tempData",null===t||void 0===t?void 0:t.map((t=>null===t||void 0===t?void 0:t.label)),null===t||void 0===t?void 0:t.find((t=>null===t||void 0===t?void 0:t.isDefault))),d.bill_from.options=(null===t||void 0===t?void 0:t.map((t=>null===t||void 0===t?void 0:t.label)))||[],d.bill_from.value=null===t||void 0===t||null===(A=t.find((t=>null===t||void 0===t?void 0:t.isDefault)))||void 0===A?void 0:A.label}}}if(null!==d&&void 0!==d&&null!==(n=d.tax_type)&&void 0!==n&&n.value){var R;const t=null===Mt||void 0===Mt||null===(R=Mt.filter((t=>{var e;return(null===t||void 0===t?void 0:t.taxType)==(null===d||void 0===d||null===(e=d.tax_type)||void 0===e?void 0:e.value)})))||void 0===R?void 0:R.map((t=>null===t||void 0===t?void 0:t.taxFieldName));d.tax_code.options=t}if(null!==d&&void 0!==d&&null!==(l=d.tax_code)&&void 0!==l&&l.value){var f;const t=((t,e)=>t.filter((t=>e.includes(t.taxFieldName))))(Mt,null===d||void 0===d||null===(f=d.tax_code)||void 0===f?void 0:f.value);kt(t)}te(d)},De=t=>null!==t&&void 0!==t&&t.options&&Array.isArray(t.value)?t.value.map((e=>{var o;return(null===(o=t.options.find((t=>t.value===e)))||void 0===o?void 0:o.label)||""})).filter((t=>""!==t)).join(", "):"",Ie=(t,e,o)=>{const i=[...Yt];i[e][o]=t.target.value,Wt(i)},Oe=Yt.reduce(((t,e)=>t+(parseFloat(e.amount)||0)),0),Me=(Lt.reduce(((t,e)=>t+Oe*(e.taxPercentage/100)),0),Lt.map((t=>(0,i.A)((0,i.A)({},t),{},{calculatedAmount:Oe*(t.taxPercentage/100)})))),Pe=Me.reduce(((t,e)=>t+e.calculatedAmount),0);return j?(0,q.jsx)(h.a,{}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"0.5em"},children:(0,q.jsx)(n.Q,{label:"Add New Credit Note",icon:"pi pi-check",iconPos:"right",submitEvent:async()=>{Zt.client_name.options=Nt,Zt.projectService.options=Array.isArray(null===Bt||void 0===Bt?void 0:Bt.projectService)?null===Bt||void 0===Bt?void 0:Bt.projectService.map((t=>({label:null===t||void 0===t?void 0:t.name,value:t.id.toString()}))):[];const t=Mt.map((t=>null===t||void 0===t?void 0:t.taxType));Zt.tax_type.options=t,F(!0)}})}),(0,q.jsxs)("p",{className:"m-0",children:[(0,q.jsx)(l.A,{data:jt,column:ve,showGridlines:!0,resizableColumns:!0,rows:20,paginator:!0,sortable:!0,headerRequired:!0,scrollHeight:"calc(100vh - 200px)",downloadedfileName:"Brandwise_Denomination_table"}),H?(0,q.jsx)(d.A,{actionPopupToggle:z,onCloseFunction:ge}):null]}),B?(0,q.jsx)("div",{className:"popup-overlay md-popup-overlay",children:(0,q.jsxs)("div",{className:"popup-body md-popup-body stretchLeft",children:[(0,q.jsxs)("div",{className:"popup-header ",children:[(0,q.jsxs)("div",{className:"popup-close",onClick:()=>{Ee()},children:[(0,q.jsx)("i",{className:"pi pi-angle-left"}),(0,q.jsxs)("h4",{className:"popup-heading",children:[Y?"Update":"Add"," Credit Note"]})]}),(0,q.jsx)("div",{className:"popup-right-close",onClick:()=>{Ee()},children:"\xd7"})]}),(0,q.jsxs)("div",{className:"popup-content",style:{padding:"1rem 2rem"},children:[(0,q.jsx)(r.A,{form:p().cloneDeep(Zt),formUpdateEvent:Ne,isFormValidFlag:L}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,q.jsx)("h5",{style:{margin:0,fontWeight:"600",color:"#333"},children:"Add Credit Note Items Detail"}),(0,q.jsx)(I.$,{onClick:()=>{Wt([...Yt,{id:Date.now(),description:"",sacCode:"",amount:0}])},label:"Add Row",style:{backgroundColor:"#007bff",color:"white",padding:"4px 12px",borderRadius:"5px",fontSize:"14px",fontWeight:"500",border:"none"}})]}),(0,q.jsxs)(b.b,{value:Yt,responsiveLayout:"scroll",style:{border:"1px solid #ddd",borderRadius:"5px",boxShadow:"0px 2px 5px rgba(0,0,0,0.1)",overflow:"hidden"},children:[(0,q.jsx)(w.V,{field:"description",header:"Description",body:(t,e)=>{let{rowIndex:o}=e;return(0,q.jsx)(N.S,{value:t.description,onChange:t=>Ie(t,o,"description"),style:{height:"28px",fontSize:"14px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc",width:"100%"}})}}),(0,q.jsx)(w.V,{field:"sacCode",header:"SAC Code",body:(t,e)=>{let{rowIndex:o}=e;return(0,q.jsx)(N.S,{value:t.sacCode,onChange:t=>Ie(t,o,"sacCode"),style:{height:"28px",fontSize:"14px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc",width:"100%"}})}}),(0,q.jsx)(w.V,{field:"amount",header:"Amount",body:(t,e)=>{let{rowIndex:o}=e;return(0,q.jsx)(D.Y,{value:t.amount,onValueChange:t=>((t,e)=>{const o=[...Yt];o[e].amount=t.value,Wt(o)})(t,o),mode:"decimal",style:{width:"100%",height:"28px",fontSize:"14px",padding:"6px 10px",textAlign:"right",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#fff",outline:"none",display:"flex",alignItems:"center",transition:"border-color 0.2s ease-in-out"},inputStyle:{width:"100%",height:"28px",padding:"0px",border:"none",outline:"none",backgroundColor:"transparent"}})}})]}),(0,q.jsxs)("div",{style:{textAlign:"right",padding:"15px",marginTop:"10px",backgroundColor:"#f8f9fa",borderRadius:"5px",boxShadow:"0px 1px 4px rgba(0,0,0,0.1)"},children:[(0,q.jsxs)("h6",{style:{marginBottom:"5px",fontWeight:"600"},children:["Total: ",Oe.toFixed(2)]}),Me.map(((t,e)=>(0,q.jsxs)("h6",{style:{marginBottom:"5px",fontSize:"14px",color:"#555"},children:[t.taxFieldName,"@",t.taxPercentage,"%: ",t.calculatedAmount.toFixed(2)]},e))),(0,q.jsxs)("h6",{style:{marginBottom:"5px",fontWeight:"600",color:"#333"},children:["Total GST: ",Pe.toFixed(2)]}),(0,q.jsxs)("h6",{style:{fontWeight:"700",fontSize:"16px",color:"#222"},children:["Total Amount: ",(Oe+Pe).toFixed(2)]})]})]})]}),(0,q.jsx)("div",{className:"popup-lower-btn",children:(0,q.jsx)(n.Q,{label:"Submit",icon:"pi pi-check",iconPos:"right",submitEvent:async t=>{var e,o,a,n,l,d,r,c,s,u,v,S,h,T,A;t.preventDefault();let R=!0;p().each(Zt,(t=>{var e;null!==t&&void 0!==t&&null!==(e=t.validation)&&void 0!==e&&e.required&&(R=R&&t.value)})),k(R);const f={invoiceItems:Yt.map((t=>({description:t.description,sacCode:t.sacCode,amount:t.amount}))),totalAmount:Oe.toFixed(2),gstTotal:Pe.toFixed(2),finalAmount:(Oe+Pe).toFixed(2),taxBreakdown:Me.map((t=>({taxFieldName:t.taxFieldName,taxPercentage:t.taxPercentage,calculatedAmount:t.calculatedAmount.toFixed(2)})))};if(console.log("Final Invoice Data:",f,Zt),!R)return void m.W.show("Please Check all the Fields!",_.a.ERROR);const g=parseFloat(Zt.remain_po_amount.value)||0,C=parseFloat(Zt.invoice_amount.value)||0;if(C>g)return void m.W.show("Credit Amount cannot be greater than remain PO Amount!",_.a.ERROR);if(parseFloat(f.totalAmount)!==C)return void m.W.show("Total Amount must match Credit Amount!",_.a.ERROR);console.log("Processing with valid data:",bt,Zt,bt.find((t=>t.po_name===Zt.contract_name.value)));const E=(null===(e=It.find((t=>t.client_name===Zt.client_name.value)))||void 0===e?void 0:e.client_id)||"",x=(null===(o=bt.find((t=>t.po_name===Zt.contract_name.value)))||void 0===o?void 0:o.clientId)||"",b=null!==(a=null===(n=Ut.find((t=>we(t.address1,null===t||void 0===t?void 0:t.address2,null===t||void 0===t?void 0:t.address3)==Zt.bill_from.value)))||void 0===n?void 0:n.id)&&void 0!==a?a:null,w=null!==(l=null===(d=Mt.find((t=>(null===t||void 0===t?void 0:t.taxType)==Zt.tax_type.value)))||void 0===d?void 0:d.id)&&void 0!==l?l:null;let N="";null===Zt||void 0===Zt||null===(r=Zt.tax_code)||void 0===r||null===(c=r.value)||void 0===c||c.forEach((t=>{var e,o;const i=null!==(e=null===Mt||void 0===Mt||null===(o=Mt.find((e=>(null===e||void 0===e?void 0:e.taxFieldName)==t)))||void 0===o?void 0:o.id)&&void 0!==e?e:null;null!=i&&(N=""!=N?N+","+i:i)}));const D=new FormData,I=(O=Zt.client_name.value)?O.split(" ").map((t=>t[0])).join("").toUpperCase():"";var O;const M=(t=>{const e=new Date(t);let o=e.getFullYear(),i=o+1;return e.getMonth()<3&&(o-=1,i-=1),"".concat(o.toString().slice(-2),"-").concat(i.toString().slice(-2))})(Zt.invoice_date.value),P="".concat(I,"/").concat(M),U={client_name:Zt.client_name.value||"",client_id:E,invoice_name:P,contract_name:Zt.contract_name.value||"",contract_id:x,po_number:Zt.po_number.value||"",po_amount:Zt.po_amount.value||"",remain_po_amount:Zt.remain_po_amount.value||"",invoice_date:Zt.invoice_date.value?be(Zt.invoice_date.value):null,clientBillTo:(null===(s=Zt.clientBillTo.value)||void 0===s?void 0:s.toString())||"",clientShipAddress:(null===(u=Zt.clientShipAddress.value)||void 0===u?void 0:u.toString())||"",clientContact:(null===(v=Zt.clientContact.value)||void 0===v?void 0:v.toString())||"",company_name:Zt.company_name.value||"",bill_from:Zt.bill_from.value||"",invoice_number_id:Zt.invoice_number.value||"",invoice_number:(null===(S=Zt.invoice_number.options.find((t=>t.value===Zt.invoice_number.value)))||void 0===S?void 0:S.label)||"",invoice_bill_from_id:b,projectService_names:(null===(h=Zt.projectService.options.find((t=>t.value===Zt.projectService.value)))||void 0===h?void 0:h.label)||"",projectService:Zt.projectService.value||"",tax_type:Zt.tax_type.value||"",tax_type_id:w||0,tax_code:(null===(T=Zt.tax_code.value)||void 0===T?void 0:T.toString())||"",tax_code_id:N,invoice_amount:C.toFixed(2),note_one:Zt.note_one.value||"",note_two:Zt.note_two.value||"",clientBillTo_name:De(Zt.clientBillTo),clientShipAddress_name:De(Zt.clientShipAddress),clientContact_name:(null===(A=Zt.clientContact.options.find((t=>t.value===Zt.clientContact.value)))||void 0===A?void 0:A.label)||"",total_amount:f.totalAmount,final_amount:f.finalAmount,gst_total:f.gstTotal,invoiceData:JSON.stringify(f),updated_by:ce,isActive:1};if(Object.entries(U).forEach((t=>{let[e,o]=t;D.set(e,o)})),console.log("Final formData:",U,D),null!==J&&void 0!==J&&J.id){const t=(0,i.A)((0,i.A)({},U),{},{id:null===J||void 0===J?void 0:J.id,invoice_name:null===J||void 0===J?void 0:J.invoice_name});Object.entries(t).forEach((t=>{let[e,o]=t;D.set(e,o)})),de.updateCreditNote(D).then((t=>{(null===t||void 0===t?void 0:t.statusCode)===y.B.SUCCESS&&(Q({}),Ee(),m.W.show(null===t||void 0===t?void 0:t.message,_.a.SUCCESS))})).catch((t=>{Q({}),m.W.show(t,_.a.ERROR)}))}else de.createCreditNote(D).then((t=>{(null===t||void 0===t?void 0:t.statusCode)===y.B.CREATED&&(Q({}),Ee(),m.W.show(null===t||void 0===t?void 0:t.message,_.a.SUCCESS))})).catch((t=>{Q({}),m.W.show(t,_.a.ERROR)}))}})})]})}):null]})}},9441:(t,e,o)=>{o.d(e,{p:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getInvoicesData=async()=>{try{const t=await a.S.postRequest(i.R.GET_INVOICES);return null===t||void 0===t?void 0:t.data}catch(t){return console.error("Error fetching invoices:",t),{}}},this.createInvoice=async t=>{try{const e=await a.S.postRequest(null!==t&&void 0!==t&&t.id?i.R.UPDATE_INVOICE:i.R.CREATE_INVOICE,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error creating invoice:",e),e}},this.updateInvoice=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_INVOICE,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error updating invoice:",e),e}},this.activateDeactivateInvoice=async t=>{try{const e={id:t.id,isActive:t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_INVOICE_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return console.error("Error activating/deactivating invoice:",e),{}}},this.UpdateInvoicePDF=async t=>{try{const e=await a.S.postRequest(i.R.POST_GENERATE_INVOICE_PDF,{invoice_number:t});return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.UpdateTaxInvoicePDF=async t=>{try{const e=await a.S.postRequest(i.R.POST_GENETARE_TAX_PDF,{invoice_number:t});return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.GetInvoiceDownloadPDF=async()=>{try{const t=await a.S.getRequest(i.R.GET_GENERATE_INVOICE_PDF);return null===t||void 0===t?void 0:t.data}catch(t){return{}}}}}},4635:(t,e,o)=>{o.d(e,{R:()=>d});var i=o(6178),a=o.n(i),n=o(1574),l=o(9496);class d{constructor(){this.getAccountMaster=async t=>{try{const e=await l.S.postRequest(n.R.GET_ACCOUNT_MANAGER_MASTER,{countryId:t||null});return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createAccountMaster=async t=>{try{const e=await l.S.postRequest(n.R.CREATE_ACCOUNT_MANAGER_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateAccountMaster=async t=>{try{const e=await l.S.postRequest(n.R.UPDATE_ACCOUNT_MANAGER_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateAccountMaster=async t=>{try{console.log("master mastermaster",t);const e={accountManagerId:t.id,industryHeadIds:t.industryHeadIds,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId,deactivationDate:null!==t&&void 0!==t&&t.deactivationDate?a()(new Date(null===t||void 0===t?void 0:t.deactivationDate)).format("YYYY-MM-DD"):null},o=await l.S.postRequest(n.R.TOGGLE_ACCOUNT_MANAGER_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},1284:(t,e,o)=>{o.d(e,{_:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getAccountsMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_ACCOUNTS_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createAccountsMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_ACCOUNTS_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateAccountsMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_ACCOUNTS_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateAccountsMaster=async t=>{try{const e={accountId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_ACCOUNTS_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},5318:(t,e,o)=>{o.d(e,{F:()=>d});var i=o(1574),a=o(9496),n=o(6178),l=o.n(n);class d{constructor(){this.getCompanyMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_COMPANY_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return t}},this.createCompanyMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_COMPANY_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateCompanyMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_COMPANY_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateCompanyMaster=async t=>{try{const e={companyId:t.id,isActive:!t.isactive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_COMPANY_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return e}},this.getCompanyLocationMaster=async t=>{try{const e=await a.S.postRequest(i.R.GET_COMPANY_LOCATION_MASTER,{companyId:t||null});return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.createCompanyLocationMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_COMPANY_LOCATION_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateCompanyLocationMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_COMPANY_LOCATION_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateCompanyLocationMaster=async t=>{try{const e={locationId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId,deactivationDate:null!==t&&void 0!==t&&t.deactivationDate?l()(new Date(null===t||void 0===t?void 0:t.deactivationDate)).format("YYYY-MM-DD"):null},o=await a.S.postRequest(i.R.TOGGLE_COMPANY_LOCATION_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return e}}}}},7416:(t,e,o)=>{o.d(e,{m:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getCountryMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_COUNTRY_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createCountryMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_COUNTRY,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateCountryMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_COUNTRY,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateCountryMaster=async t=>{try{const e={countryId:t.id,isActive:!t.isactive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_COUNTRY,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},8368:(t,e,o)=>{o.d(e,{W:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getProductionTypeMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_PRODUCTION_TYPE_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createProductionTypeMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_PRODUCTION_TYPE_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateProductionTypeMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_PRODUCTION_TYPE_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateProductionTypeMaster=async t=>{try{const e={productionTypeId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_PRODUCTION_TYPE_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}},this.getIndustryMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_INDUSTRY_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createIndustryMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_INDUSTRY_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateIndustryMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_INDUSTRY_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateIndustryMaster=async t=>{try{const e={industryMasterId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_INDUSTRY_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}},this.getIndustryGroupMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_INDUSTRY_GROUP_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createIndustryGroupMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_INDUSTRY_GROUP_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateIndustryGroupMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_INDUSTRY_GROUP_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateIndustryGroupMaster=async t=>{try{const e={groupIndustryId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_INDUSTRY_GROUP_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}},this.getIndustryHeadMaster=async()=>{try{const t=await a.S.postRequest(i.R.GET_INDUSTRY_HEAD_MASTER);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createIndustryHeadMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_INDUSTRY_HEAD_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateIndustryHeadMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_INDUSTRY_HEAD_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateIndustryHeadMaster=async t=>{try{const e={industryHeadId:t.id,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId,deactivationDate:null===t||void 0===t?void 0:t.deactivationDate},o=await a.S.postRequest(i.R.TOGGLE_INDUSTRY_HEAD_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},6124:(t,e,o)=>{o.d(e,{U:()=>d});var i=o(6178),a=o.n(i),n=o(1574),l=o(9496);class d{constructor(){this.getSalesMaster=async t=>{try{const e=await l.S.postRequest(n.R.GET_SALES_MASTER,{countryId:t||null});return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createSalesMaster=async t=>{try{const e=await l.S.postRequest(n.R.CREATE_SALES_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateSalesMaster=async t=>{try{const e=await l.S.postRequest(n.R.UPDATE_SALES_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateSalesMaster=async t=>{console.log("asadsdasdas",t);try{const e={salesManagerId:t.id,industryHeadIds:t.industryHeadIds,isActive:!t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId,deactivationDate:null!==t&&void 0!==t&&t.deactivationDate?a()(new Date(null===t||void 0===t?void 0:t.deactivationDate)).format("YYYY-MM-DD"):null},o=await l.S.postRequest(n.R.TOGGLE_SALES_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},6530:(t,e,o)=>{o.d(e,{r:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getStateMaster=async t=>{try{const e=await a.S.postRequest(i.R.GET_STATE_MASTER,{countryId:t||null});return null===e||void 0===e?void 0:e.data}catch(e){return{}}},this.createStateMaster=async t=>{try{const e=await a.S.postRequest(i.R.CREATE_STATE_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateStateMaster=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_STATE_MASTER,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.deactivateStateMaster=async t=>{try{const e={stateId:t.id,isActive:!t.isactive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_STATE_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}}}}},2862:(t,e,o)=>{o.d(e,{n:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getTax=async()=>{try{const t=await a.S.getRequest(i.R.GET_TAXES);return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.createTax=async t=>{try{const e=await a.S.postRequest(null!==t&&void 0!==t&&t.id?i.R.UPDATE_TAXES:i.R.CREATE_TAXES,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.updateTax=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_TAXES,t);return null===e||void 0===e?void 0:e.data}catch(e){return e}},this.activatedeactivateTax=async t=>{try{const e={id:t.id,isActive:t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_TAX_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return{}}},this.formatDate=async t=>{try{const e=new Date(t),o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(o,"/").concat(i,"/").concat(a)}catch(e){return e.message}}}}},7810:(t,e,o)=>{o.d(e,{H:()=>n});var i=o(1574),a=o(9496);class n{constructor(){this.getPoContractsData=async()=>{try{const t=await a.S.postRequest(i.R.GET_PO_CONTRACTS);return null===t||void 0===t?void 0:t.data}catch(t){return console.error("Error fetching PO Contracts:",t),{}}},this.createPoContract=async t=>{try{const e=await a.S.postRequest(null!==t&&void 0!==t&&t.id?i.R.UPDATE_PO_CONTRACT:i.R.CREATE_PO_CONTRACT,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error creating PO Contract:",e),e}},this.updatePoContract=async t=>{try{const e=await a.S.postRequest(i.R.UPDATE_PO_CONTRACT,t);return null===e||void 0===e?void 0:e.data}catch(e){return console.error("Error updating PO Contract:",e),e}},this.activateDeactivatePoContract=async t=>{try{const e={id:t.id,isActive:t.isActive,updatedBy:null===t||void 0===t?void 0:t.loggedInUserId},o=await a.S.postRequest(i.R.TOGGLE_PO_CONTRACT_STATUS,e);return null===o||void 0===o?void 0:o.data}catch(e){return console.error("Error activating/deactivating PO Contract:",e),{}}},this.getPoContractConfiguration=async()=>{try{const t=await a.S.postRequest(i.R.GET_PO_CONTRACT_CONFIGURATION,{});return null===t||void 0===t?void 0:t.data}catch(t){return{}}},this.getPOContractMasterConfigData=async()=>{try{return await a.S.postRequest(i.R.GET_PO_MASTER_CONFIG_DATA,{})}catch(t){return{}}},this.getPOContractMasterCascadingData=async()=>{try{return await a.S.postRequest(i.R.GET_PO_CONTRACT_CASCADING_DATA,{})}catch(t){return{}}}}}}}]);
//# sourceMappingURL=620.bf22ea84.chunk.js.map